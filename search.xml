<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexoåšå®¢</title>
    <url>/2023/03/19/Hexo%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Hexo-GitHub-Pagesæ­å»ºä¸ªäººåšå®¢"><a href="#Hexo-GitHub-Pagesæ­å»ºä¸ªäººåšå®¢" class="headerlink" title="Hexo + GitHub Pagesæ­å»ºä¸ªäººåšå®¢"></a>Hexo + GitHub Pagesæ­å»ºä¸ªäººåšå®¢</h1><p>Welcome to <a href="https://hexo.io/">Hexo</a>! </p>
<ol>
<li>githubåˆ›å»ºä¸€ä¸ª<code>ç”¨æˆ·å.github.io</code>çš„ä»“åº“ã€‚</li>
<li>å®‰è£…node.jsã€‚</li>
<li>å®‰è£…hexoï¼Œ<code>npm install hexo-cli -g</code>ã€‚</li>
<li>åˆ›å»ºæœ¬åœ°æ–‡ä»¶å¤¹<code>hexo init blog</code>ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ–<code>npm install</code>ã€‚</li>
<li>ä¿®æ”¹<code>_config.yml</code>é…ç½®æ–‡ä»¶ã€‚</li>
<li>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„<a href="https://hexo.io/themes/">ä¸»é¢˜</a>è¿›è¡Œæ›´æ¢ï¼Œä¸‹è½½åˆ°<code>themes</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶åœ¨<code>_config.yml</code>æ›´æ–°ï¼Œä¸è¦å¿˜è®°ä¿®æ”¹ä¸»é¢˜ä¸­çš„<code>_config.yml</code>é…ç½®æ–‡ä»¶ã€‚</li>
<li>å¼€å¯åˆ†ç±»å’Œæ ‡ç­¾ï¼Œ<code>hexo new page categories</code>ï¼Œ<code>index.md</code>æ·»åŠ <code>type: &quot;categories&quot;</code>ã€‚</li>
<li>æœ¬åœ°è¿›è¡Œé¢„è§ˆ<code>hexo server</code>ã€‚</li>
<li>æ²¡æœ‰é—®é¢˜çš„è¯å°±å¯ä»¥è¿›è¡Œéƒ¨ç½²äº†<code>hexo d -g</code>ã€‚</li>
</ol>
<span id="more"></span>

<h2 id="è¸©å‘è®°å½•"><a href="#è¸©å‘è®°å½•" class="headerlink" title="è¸©å‘è®°å½•"></a>è¸©å‘è®°å½•</h2><ul>
<li><p><code>npm install</code> æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo rm -rf ~/.node-gyp</span><br><span class="line">sudo npm cache clean -f</span><br><span class="line">sudo npm install -g n</span><br><span class="line">sudo n stable</span><br><span class="line">sudo npm i --unsafe-perm</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>ERROR Deployer not found: git</code> æŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡åˆ° <code>xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun</code> é—®é¢˜ï¼Œå®‰è£…æ’ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="NEXTä¸»é¢˜ä¸‹å¼€å¯æœç´¢"><a href="#NEXTä¸»é¢˜ä¸‹å¼€å¯æœç´¢" class="headerlink" title="NEXTä¸»é¢˜ä¸‹å¼€å¯æœç´¢"></a>NEXTä¸»é¢˜ä¸‹å¼€å¯æœç´¢</h2><ol>
<li>å®‰è£…æ’ä»¶ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure></li>
<li><code>_config.yml</code>æ·»åŠ é…ç½®æ–‡ä»¶ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  content: true</span><br><span class="line">  format: html</span><br></pre></td></tr></table></figure></li>
<li>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶å¼€å…³<code>local_search</code>ã€‚</li>
</ol>
<h2 id="é…ç½®åŸŸå"><a href="#é…ç½®åŸŸå" class="headerlink" title="é…ç½®åŸŸå"></a>é…ç½®åŸŸå</h2><p>exampleï¼š<a href="https://www.aliyun.com/?utm_content=se_1000301881&accounttraceid=52e2158134cd4376ab19089abd0757e9llgh">é˜¿é‡Œäº‘</a></p>
<ol>
<li>åœ¨ç»ˆç«¯ä¸­ <code>ping ***.github.io</code> å¾—åˆ°ä¸€ä¸ªipåœ°å€ï¼Œcopyä¸‹æ¥ã€‚</li>
<li>åœ¨é˜¿é‡Œäº‘åŸŸåè®¾ç½®ä¸­æ·»åŠ è§£æï¼š<ul>
<li>ä¸»æœºè®°å½•â€“wwwï¼Œè®°å½•ç±»å‹â€“Aï¼Œè§£æçº¿è·¯â€“é»˜è®¤ä¸ä¿®æ”¹ï¼Œè®°å½•å€¼ä¸º <code>æ­¥éª¤1</code> ä¸­pingåˆ°çš„ipï¼ŒTTLâ€“é»˜è®¤ä¸ä¿®æ”¹ï¼›</li>
<li>ä¸»æœºè®°å½•--@ï¼Œè®°å½•ç±»å‹â€“Aï¼Œè§£æçº¿è·¯â€“é»˜è®¤ä¸ä¿®æ”¹ï¼Œè®°å½•å€¼ä¸º <code>æ­¥éª¤1</code> ä¸­pingåˆ°çš„ipï¼ŒTTLâ€“é»˜è®¤ä¸ä¿®æ”¹ï¼›</li>
</ul>
</li>
<li>åœ¨GitHubä¸­æ‰“å¼€username.github.ioä»“åº“ä¸­çš„è®¾ç½®ï¼Œæ‰¾åˆ° <code>Custom domain</code> å°†è‡ªå·±çš„åŸŸåå¡«å…¥å…¶ä¸­ï¼Œç‚¹å‡»ä¿å­˜ã€‚</li>
<li>åœ¨æœ¬åœ°ä»“åº“ä¸­æ‰“å¼€ <code>source</code> æ–‡ä»¶å¤¹ï¼Œæ·»åŠ  <code>CNAME</code> æ–‡ä»¶ï¼Œå†…å®¹ä¸ºè‡ªå·±çš„åŸŸåï¼›</li>
<li>é‡æ–°éƒ¨ç½²ï¼Œç­‰å¾…å‡ åˆ†é’Ÿå³å¯è®¿é—®ã€‚</li>
</ol>
<h2 id="å›¾åºŠ"><a href="#å›¾åºŠ" class="headerlink" title="å›¾åºŠ"></a>å›¾åºŠ</h2><ol>
<li>åœ¨GitHubæ–°å»ºä¸€ä¸ªä»“åº“ç”¨äºå­˜å‚¨å›¾ç‰‡ã€‚</li>
<li>åœ¨ä¸ªäººGitHubè´¦æˆ·ä¸­çš„ <code>Settings</code> ä¸­é€‰æ‹© <code>Developer settings</code> åˆ›å»º <code>Personal access tokens</code>ï¼Œå‹¾é€‰ <code>repo</code> ä¸€æ å³å¯ã€‚</li>
<li>å®‰è£…PicGoã€‚</li>
<li>é…ç½®PicGoï¼Œå»ºè®®ä½¿ç”¨cdnåŠ é€Ÿï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://cdn.jsdelivr.net/gh/ç”¨æˆ·å/ä»“åº“å</span><br></pre></td></tr></table></figure></li>
<li>é…ç½®å®Œæˆåå³å¯ä¸Šä¼ å›¾ç‰‡äº†ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>è¸©å‘æŒ‡å—</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>XCodeä¹‹ä»£ç å—</title>
    <url>/2023/03/31/XCode%E4%B9%8B%E4%BB%A3%E7%A0%81%E5%9D%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span>

<p>æ–°å»ºä»£ç å—ï¼š</p>
<img data-src="/2023/03/31/XCode%E4%B9%8B%E4%BB%A3%E7%A0%81%E5%9D%97/%E6%96%B0%E5%BB%BA%E4%BB%A3%E7%A0%81%E5%9D%97.png" class>
<ol>
<li>åœ¨XCodeå·¥ç¨‹ä¸­å³é”®ï¼Œé€‰æ‹©<code>create code snippet</code>ã€‚</li>
<li>ç¼–è¾‘ä»£ç å—å†…å®¹ï¼Œå…³è”å±æ€§ä½¿ç”¨<code>&lt;#name#&gt;</code>æ¥è®¾ç½®ã€‚</li>
<li>è®¾ç½®å¿«æ·é”®ã€‚</li>
</ol>
<p>ä»£ç å—çš„ä½¿ç”¨ï¼š</p>
<ol>
<li>è¾“å…¥ä»£ç å—ä¸­è®¾ç½®çš„å¿«æ·æŒ‡ä»¤ï¼Œ<strong>å¦‚æœæ²¡æœ‰æç¤ºå¯ç‚¹å‡»<code>esc</code>é”®</strong>ã€‚</li>
<li>å¦‚æœæ²¡æœ‰è®¾ç½®å¿«æ·æŒ‡ä»¤ï¼Œå¯ç‚¹å‡»å³ä¸Šè§’çš„<code>+</code>é”®ï¼Œæ‰¾åˆ°æƒ³è¾“å…¥çš„ä»£ç å—åŒå‡»ã€‚</li>
</ol>
<p>ä»£ç å—çš„ä¿å­˜ä½ç½®:<br><code>/Users/bytedance/Library/Developer/Xcode/UserData/CodeSnippets</code>ï¼Œ<br>æ›´æ–°åéœ€è¦é‡å¯XCodeæ‰ä¼šç”Ÿæ•ˆğŸ˜¯</p>
]]></content>
      <categories>
        <category>XCode</category>
      </categories>
      <tags>
        <tag>Code Snippets</tag>
      </tags>
  </entry>
  <entry>
    <title>frame VS bounds</title>
    <url>/2023/03/20/frame%20VS%20bounds/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="UIViewå¸ƒå±€å±æ€§"><a href="#UIViewå¸ƒå±€å±æ€§" class="headerlink" title="UIViewå¸ƒå±€å±æ€§"></a>UIViewå¸ƒå±€å±æ€§</h1><ul>
<li><code>frame</code>æ˜¯åœ¨çˆ¶å›¾å±‚ä¸Šçš„ä½ç½®å’Œå¤§å°ï¼ŒCALayerä¸­çš„frameè¢«boundsã€positionã€transformä¸‰ä¸ªå±æ€§çº¦æŸã€‚</li>
<li><code>bounds</code>æ˜¯å›¾å±‚å†…éƒ¨çš„ï¼Œå³è‡ªèº«åæ ‡ç³»ä¸‹çš„sizeå’Œorginã€‚</li>
<li>centerå±æ€§ï¼Œåœ¨CALayerä¸­å¯¹åº”ï¼š<ul>
<li>positionï¼Œå›¾å±‚çš„é”šç‚¹åœ¨çˆ¶å›¾å±‚ä¸­çš„åæ ‡ç©ºé—´ä½ç½®ï¼Œä¾èµ–çˆ¶å›¾å±‚çš„boundsã€‚</li>
<li>anchorPointï¼Œé”šç‚¹ï¼Œé»˜è®¤(0.5, 0.5)ä¸­å¿ƒç‚¹ï¼Œè¶…è¿‡(0, 1)èŒƒå›´å³è¶…å‡ºæœ¬å›¾å±‚ã€‚</li>
</ul>
</li>
</ul>
<p>å…¶è®¡ç®—å…³ç³»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">position.x = frame.origin.x + anchorPoint.x * frame.size.width;</span><br><span class="line">position.y = frame.origin.y + anchorPoint.y * frame.size.height;</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œå¯ä»¥é€šè¿‡æ—‹è½¬ã€ä¿®æ”¹é”šç‚¹ç­‰æ–¹å¼æ¥æŸ¥çœ‹åŒºåˆ«ã€‚é€šè¿‡ä¸‹é¢ä»£ç å¯ä»¥çœ‹å‡ºï¼Œä¿®æ”¹é”šç‚¹ç­‰æ“ä½œä¸ä¼šå½±å“å›¾å±‚çš„boundsï¼Œboundsæ˜¯å›ºå®šçš„ï¼Œå˜åŒ–çš„åªæœ‰frameã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import PlaygroundSupport</span><br><span class="line"></span><br><span class="line">class MyViewController : UIViewController &#123;</span><br><span class="line">    override func loadView() &#123;</span><br><span class="line">        let view = UIView()</span><br><span class="line">        view.backgroundColor = .white</span><br><span class="line"></span><br><span class="line">        let view1 = UIView()</span><br><span class="line">        view1.backgroundColor = .red</span><br><span class="line">        view1.frame = CGRect(x: 30, y: 30, width: 50, height: 50)</span><br><span class="line">        view.addSubview(view1)</span><br><span class="line">        </span><br><span class="line">        let view2 = UIView()</span><br><span class="line">        view2.backgroundColor = .blue</span><br><span class="line">        view2.frame = CGRect(x: 30, y: 30, width: 50, height: 50)</span><br><span class="line">        view2.layer.anchorPoint = CGPoint(x: 0, y: 0)</span><br><span class="line">        view.addSubview(view2)</span><br><span class="line">        </span><br><span class="line">        let view3 = UIView()</span><br><span class="line">        view3.backgroundColor = .green</span><br><span class="line">        view3.frame = CGRect(x: 30, y: 30, width: 50, height: 50)</span><br><span class="line">        view3.transform = CGAffineTransform(rotationAngle: 45)</span><br><span class="line">        view.addSubview(view3)</span><br><span class="line">        </span><br><span class="line">        let view4 = UIView()</span><br><span class="line">        view4.backgroundColor = .yellow</span><br><span class="line">        view4.frame = CGRect(x: 30, y: 30, width: 50, height: 50)</span><br><span class="line">        view4.layer.position = CGPoint(x: 0, y: 0)</span><br><span class="line">        view.addSubview(view4)</span><br><span class="line">        </span><br><span class="line">        print(&quot;view1 - frame: \(view1.frame) bounds: \(view1.bounds)&quot;)</span><br><span class="line">        print(&quot;view2 - frame: \(view2.frame) bounds: \(view2.bounds)&quot;)</span><br><span class="line">        print(&quot;view3 - frame: \(view3.frame) bounds: \(view3.bounds)&quot;)</span><br><span class="line">        print(&quot;view4 - frame: \(view4.frame) bounds: \(view4.bounds)&quot;)</span><br><span class="line"></span><br><span class="line">        self.view = view</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Present the view controller in the Live View window</span><br><span class="line">PlaygroundPage.current.liveView = MyViewController()</span><br></pre></td></tr></table></figure>

<hr>
<p>çˆ¶è§†å›¾ä¸­å’Œå­è§†å›¾çš„frameè®¾ç½®å…ˆåé¡ºåºå¯¹æ¸²æŸ“è¿‡ç¨‹æœ‰å½±å“ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œframeçš„å®½é«˜å’Œboundsçš„å®½é«˜æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å½“æ”¹å˜äº†transformçš„æ—¶å€™ï¼Œframeçš„å®½é«˜å’Œboundsçš„å®½é«˜å¯èƒ½ä¸å†ç›¸åŒã€‚</p>
<h2 id="frame"><a href="#frame" class="headerlink" title="frame"></a>frame</h2><p>frameæ˜¯åŠ¨æ€ã€ä¸å­˜å‚¨çš„æ´¾ç”Ÿå±æ€§ï¼Œæ ¹æ®layerçš„boundsï¼Œposition(center)ï¼ŒarchorPointï¼ŒtransformåŠ¨æ€è®¡ç®—ã€‚</p>
<ul>
<li><p>å½“æ”¹å˜boundsï¼Œposition(center)ï¼ŒarchorPointï¼Œtransformå½“ä¸­çš„ä»»ä½•ä¸€ä¸ªå€¼æ—¶ï¼Œframeéƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆæ ¹æ®boundsã€position(center)ã€archorPointè®¡ç®—å‡ºå˜æ¢å‰çš„frameã€‚</li>
<li>æ ¹æ®å˜æ¢å‰çš„frameåŠtransformè®¡ç®—å‡ºå˜æ¢åçš„frameã€‚</li>
<li>å½“å˜æ¢åçš„frameæ˜¯ä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢æˆ–è€…ä¸å¹³è¡Œäºè¾¹è½´æ—¶ï¼Œè¿”å›ä¸€ä¸ªæœ€å°çš„åŒ…æ‹¬å˜æ¢åçš„frameçš„å››ä¸ªé¡¶ç‚¹çš„çŸ©å½¢ï¼Œè¿™ä¸ªçŸ©å½¢å°±æ˜¯çœŸå®çš„frameã€‚</li>
</ol>
</li>
<li><p>å½“æ”¹å˜frameæ—¶ï¼ŒarchorPointï¼Œtransformä¸å˜ï¼Œboundså’Œposition(center)éšä¹‹æ”¹å˜ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆæ ¹æ®frameåŠtransformè®¡ç®—å‡ºå˜æ¢å‰çš„frameã€‚</li>
<li>æ ¹æ®å˜æ¢å‰çš„frameçš„sizeä¿®æ”¹boundså±æ€§ã€‚</li>
<li>æ ¹æ®å˜æ¢å‰çš„frameã€archorPointä¿®æ”¹position(center)å±æ€§ã€‚</li>
</ol>
</li>
</ul>
<h2 id="bounds"><a href="#bounds" class="headerlink" title="bounds"></a>bounds</h2><p>boundså½±å“å­viewçš„ä½ç½®å’Œå¤§å°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import PlaygroundSupport</span><br><span class="line"></span><br><span class="line">class MyViewController : UIViewController &#123;</span><br><span class="line">    override func loadView() &#123;</span><br><span class="line">        let view = UIView()</span><br><span class="line">        view.backgroundColor = .white</span><br><span class="line"></span><br><span class="line">        let view1 = UIView()</span><br><span class="line">        view1.backgroundColor = .red</span><br><span class="line">        view1.frame = CGRect(x: 30, y: 30, width: 50, height: 50)</span><br><span class="line">        view.addSubview(view1)</span><br><span class="line">        </span><br><span class="line">        let view2 = UIView()</span><br><span class="line">        view2.backgroundColor = .blue</span><br><span class="line">        view2.frame = CGRect(x: 30, y: 30, width: 50, height: 50)</span><br><span class="line">        view1.addSubview(view2)</span><br><span class="line">        </span><br><span class="line">        let view3 = UIView()</span><br><span class="line">        view3.backgroundColor = .green</span><br><span class="line">        view3.frame = CGRect(x: 20, y: 20, width: 50, height: 50)</span><br><span class="line">        view2.addSubview(view3)</span><br><span class="line">        </span><br><span class="line">        print(&quot;view1 - frame: \(view1.frame) bounds: \(view1.bounds)&quot;)</span><br><span class="line">        print(&quot;view2 - frame: \(view2.frame) bounds: \(view2.bounds)&quot;)</span><br><span class="line">        print(&quot;view3 - frame: \(view3.frame) bounds: \(view3.bounds)&quot;)</span><br><span class="line">        </span><br><span class="line">        self.view = view</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Present the view controller in the Live View window</span><br><span class="line">PlaygroundPage.current.liveView = MyViewController()</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>CoreAnimation</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS-æ‰‹åŠ¿å†²çª</title>
    <url>/2023/03/22/iOS-%E6%89%8B%E5%8A%BF%E5%86%B2%E7%AA%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å¼•è¨€ï¼šå½“è§¦æ‘¸å±å¹•ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li>ç¡¬ä»¶å±‚é¢ï¼Œæ‰‹æŒ‡è§¦æ‘¸ä¼šåœ¨å±å¹•ä¸Šç»„æˆä¸€ä¸ªå°ç”µå®¹ï¼Œåœ¨å±å¹•æ¥è§¦ç‚¹ä¼šè¢«å¸èµ°çš„ä¸€éƒ¨åˆ†ç”µæµæµå‘å››ä¸ªè§’è½çš„æ—¶é—´å·®å¯ä»¥å¾—åˆ°è§¦æ‘¸ç‚¹çš„ä½ç½®ã€‚</li>
<li>å±å¹•è§¦æ‘¸äº‹ä»¶çš„åˆ†å‘ï¼šIPCè¿›ç¨‹é—´é€šä¿¡<ol>
<li><code>IOKit</code>å°†è§¦æ‘¸äº‹ä»¶å°è£…æˆ<code>IOHIDEvent</code>å¯¹è±¡ï¼Œå¹¶é€šè¿‡<code>mach port</code>è½¬å‘<code>SpringBoard</code>ï¼ˆè´Ÿè´£ç®¡ç†ä¸»å±å¹•çš„åŸºç¡€ç¨‹åºï¼‰ã€‚</li>
<li><code>SpringBoard</code>ç»§ç»­å°†<code>IOHIDEvent</code>äº‹ä»¶é€šè¿‡<code>mach port</code>è½¬å‘ç»™å½“å‰appçš„ä¸»çº¿ç¨‹ã€‚</li>
</ol>
</li>
<li>RunLoopï¼š<ol>
<li>å‰å°appä¸»çº¿ç¨‹runloopç”³è¯·ä¸€ä¸ª<code>mach port</code>ç”¨äºç›‘å¬<code>IOHIDEvent</code>çš„<code>Source1</code>äº‹ä»¶ï¼Œè§¦å‘<code>Source1</code>å›è°ƒï¼Œå¹¶åœ¨<code>Source1</code>å›è°ƒå†…éƒ¨åˆ†å‘<code>Source0</code>å›è°ƒã€‚</li>
<li><code>Source0</code>äº‹ä»¶çš„å›è°ƒæ–¹æ³•<code>__UIApplicationHandleEventQueue()</code>ä¼šå°†æ”¶åˆ°çš„<code>IOHIDEvent</code>äº‹ä»¶å°è£…æˆ<code>UIEvent</code>äº‹ä»¶ï¼Œå¹¶è°ƒç”¨<code>UIApplication</code>çš„<code>sendEvent:</code>æ–¹æ³•å°†<code>UIEvent</code>ä¼ ç»™<code>UIWindow</code>ã€‚</li>
</ol>
</li>
<li>è§¦æ‘¸äº‹ä»¶å“åº”è€…ï¼šé€šè¿‡åˆ¤æ–­<code>UIEvent</code>ä¸­çš„æ¯ä¸ª<code>UITouch</code>çš„<code>(UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event</code>å¯»æ‰¾æœ€ä½³çš„å“åº”è€…ã€‚</li>
</ol>
<span id="more"></span>

<h2 id="UITouch"><a href="#UITouch" class="headerlink" title="UITouch"></a>UITouch</h2><p><code>UITouch</code>å¯ä»¥è¯´æ˜¯è§¦æ‘¸çš„åŸºæœ¬å•ä½ã€‚<br>æ¯ä¸ªæ‰‹æŒ‡æ¯æ¬¡è§¦æ‘¸å±å¹•éƒ½ä¼šç”Ÿæˆä¸€ä¸ª<code>UITouch</code>å¯¹è±¡ï¼Œå¤šä¸ªæ‰‹æŒ‡è§¦æ‘¸å¯¹åº”ç€å¤šä¸ª<code>UITouch</code>å¯¹è±¡ï¼›å¤šæ¬¡è§¦æ‘¸åŒä¸€ä½ç½®æ—¶ä¸ä¼šç”Ÿæˆå¤šä¸ª<code>UITouch</code>å¯¹è±¡ï¼Œè€Œæ˜¯ä¼šå¯¹å…¶è®¡æ•°+1ã€‚<br>å½“æ‰‹æŒ‡ç¦»å¼€å±å¹•ä¸€æ®µæ—¶é—´åï¼Œ<code>UITouch</code>ä¼šè¢«é”€æ¯ã€‚</p>
<p><code>UITouch</code>çš„åŸºæœ¬å±æ€§&amp;æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@property(nonatomic,readonly) NSTimeInterval      timestamp;  // è§¦æ‘¸æ—¶é—´</span><br><span class="line">@property(nonatomic,readonly) UITouchPhase        phase;      // è§¦æ‘¸é˜¶æ®µï¼šå¼€å§‹ã€ç§»åŠ¨ã€ç»“æŸã€å–æ¶ˆ</span><br><span class="line">@property(nonatomic,readonly) NSUInteger          tapCount;   // UITouchå¯¹è±¡è®¡æ•°</span><br><span class="line">@property(nonatomic,readonly) UITouchType         type API_AVAILABLE(ios(9.0)); // ç±»å‹ï¼šç›´æ¥æ¥è§¦ã€é—´æ¥æ¥è§¦ã€è§¦æ‘¸ç¬”ç­‰</span><br><span class="line"></span><br><span class="line">// majorRadius and majorRadiusTolerance are in points</span><br><span class="line">// The majorRadius will be accurate +/- the majorRadiusTolerance</span><br><span class="line">@property(nonatomic,readonly) CGFloat majorRadius API_AVAILABLE(ios(8.0));  // è§¦æ‘¸åŠå¾„</span><br><span class="line">@property(nonatomic,readonly) CGFloat majorRadiusTolerance API_AVAILABLE(ios(8.0));</span><br><span class="line"></span><br><span class="line">@property(nullable,nonatomic,readonly,strong) UIWindow                        *window;</span><br><span class="line">@property(nullable,nonatomic,readonly,strong) UIView                          *view;</span><br><span class="line">@property(nullable,nonatomic,readonly,copy)   NSArray &lt;UIGestureRecognizer *&gt; *gestureRecognizers API_AVAILABLE(ios(3.2));</span><br><span class="line"></span><br><span class="line">- (CGPoint)locationInView:(nullable UIView *)view;  // è§¦æ‘¸ä½ç½®</span><br><span class="line">- (CGPoint)previousLocationInView:(nullable UIView *)view;  // ä¸Šä¸€ä¸ªè§¦æ‘¸ä½ç½®</span><br></pre></td></tr></table></figure>

<h2 id="UIEvent"><a href="#UIEvent" class="headerlink" title="UIEvent"></a>UIEvent</h2><p><code>UIEvent</code>æ˜¯ç”¨æ¥æè¿°å•ä¸€äº‹ä»¶çš„å¯¹è±¡å¯¹è±¡ï¼ŒåŒ…å«äº†æ‰€æœ‰è§¦å‘è¯¥äº‹ä»¶çš„å¯¹è±¡é›†åˆï¼ˆUITouchç­‰ï¼‰ã€‚<br>æ¯äº§ç”Ÿä¸€ä¸ªäº‹ä»¶ï¼Œå°±å¯¹åº”ç”Ÿæˆä¸€ä¸ª<code>UIEvent</code>å¯¹è±¡ã€‚</p>
<p><code>UIEvent</code>çš„åŸºæœ¬å±æ€§&amp;æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@property(nonatomic,readonly) UIEventType     type API_AVAILABLE(ios(3.0));</span><br><span class="line">@property(nonatomic,readonly) UIEventSubtype  subtype API_AVAILABLE(ios(3.0));</span><br><span class="line"></span><br><span class="line">@property(nonatomic,readonly) NSTimeInterval  timestamp;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, readonly) UIKeyModifierFlags modifierFlags API_AVAILABLE(ios(13.4), tvos(13.4)) API_UNAVAILABLE(watchos);</span><br><span class="line">@property (nonatomic, readonly) UIEventButtonMask buttonMask API_AVAILABLE(ios(13.4)) API_UNAVAILABLE(tvos, watchos);</span><br><span class="line"></span><br><span class="line">@property(nonatomic, readonly, nullable) NSSet &lt;UITouch *&gt; *allTouches;</span><br><span class="line">- (nullable NSSet &lt;UITouch *&gt; *)touchesForWindow:(UIWindow *)window;</span><br><span class="line">- (nullable NSSet &lt;UITouch *&gt; *)touchesForView:(UIView *)view;</span><br><span class="line">- (nullable NSSet &lt;UITouch *&gt; *)touchesForGestureRecognizer:(UIGestureRecognizer *)gesture API_AVAILABLE(ios(3.2));</span><br><span class="line"></span><br><span class="line">// An array of auxiliary UITouchâ€™s for the touch events that did not get delivered for a given main touch. This also includes an auxiliary version of the main touch itself.</span><br><span class="line">- (nullable NSArray &lt;UITouch *&gt; *)coalescedTouchesForTouch:(UITouch *)touch API_AVAILABLE(ios(9.0));</span><br><span class="line"></span><br><span class="line">// An array of auxiliary UITouchâ€™s for touch events that are predicted to occur for a given main touch. These predictions may not exactly match the real behavior of the touch as it moves, so they should be interpreted as an estimate.</span><br><span class="line">- (nullable NSArray &lt;UITouch *&gt; *)predictedTouchesForTouch:(UITouch *)touch API_AVAILABLE(ios(9.0));</span><br></pre></td></tr></table></figure>

<h2 id="UIResponder"><a href="#UIResponder" class="headerlink" title="UIResponder"></a>UIResponder</h2><p><code>UIResponder</code>æ˜¯iOSç”¨äºå¤„ç†ç”¨æˆ·äº‹ä»¶çš„APIã€‚äº‹ä»¶å“åº”è€…å¯ä»¥æ˜¯ç»§æ‰¿è‡ª<code>UIResponder</code>çš„ä»»ä½•å­ç±»ã€‚</p>
<img data-src="/2023/03/22/iOS-%E6%89%8B%E5%8A%BF%E5%86%B2%E7%AA%81/%E5%93%8D%E5%BA%94%E8%80%85%E9%93%BE.png" class>
<p>å…³äº<strong>å“åº”è€…é“¾</strong>ï¼š</p>
<ul>
<li>äº‹ä»¶ç”±çˆ¶è§†å›¾-&gt;å­è§†å›¾ï¼ŒæŸ¥æ‰¾æœ€ä½³å“åº”è€…ï¼›</li>
<li>äº‹ä»¶ç”±å­è§†å›¾-&gt;çˆ¶è§†å›¾åœ¨å“åº”é“¾è¿›è¡Œä¼ é€’ï¼Œæ‰§è¡Œå¯¹åº”æ“ä½œã€‚</li>
</ul>
<h3 id="UIView-çš„-hitTest"><a href="#UIView-çš„-hitTest" class="headerlink" title="UIView çš„ hitTest"></a>UIView çš„ hitTest</h3><p>ä¸€ä¸ªäº‹ä»¶çš„å“åº”è€…çš„å®Œæˆç»å†çš„ä¸¤ä¸ªè¿‡ç¨‹ï¼š</p>
<ol>
<li>hitTestæ–¹æ³•å‘½ä¸­è§†å›¾å’Œå“åº”è€…é“¾ç¡®å®šå“åº”è€…ã€‚</li>
<li>hitTestæ–¹æ³•è¿›è¡ŒæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å‘½ä¸­è€…ï¼Œç„¶åä»å‘½ä¸­è€…è§†å›¾æ²¿ç€å“åº”é“¾å¾€ä¸Šå±‚å¯»æ‰¾æœ€ç»ˆå“åº”è€…ã€‚ï¼ˆå½¢æˆå“åº”è€…é“¾ï¼‰</li>
</ol>
<p><code>hitTest</code>çš„æŸ¥æ‰¾é¡ºåºï¼š</p>
<ul>
<li>ä»çˆ¶è§†å›¾åˆ°å­è§†å›¾ï¼Œå³ä»<code>UIApplication</code>å¼€å§‹å¾€ä¸‹è°ƒç”¨ã€‚</li>
<li>åŒè§†å›¾å±‚çº§é—´ï¼ŒåŒæ ˆä¸€æ ·å…ˆå…¥åå‡ºã€‚</li>
</ul>
<p>é€šè¿‡è°ƒç”¨æ ˆå¤ç°åŸç†ä¼ªä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event &#123;</span><br><span class="line">    if (self.userInteractionEnabled == NO || self.hidden == YES || self.alpha &lt;= 0.01) return nil;</span><br><span class="line">    if ([self pointInside:point withEvent:event] == NO) return nil;</span><br><span class="line"></span><br><span class="line">    // ä»åå¾€å‰éå†å­æ§ä»¶</span><br><span class="line">    NSInteger count = self.subviews.count;</span><br><span class="line">    for (NSInteger i = count - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">        UIView *childView = self.subviews[i]; // è·å–å­è§†å›¾</span><br><span class="line">        CGPoint childP = [self convertPoint:point toView:childView];  // åæ ‡ç³»è½¬æ¢</span><br><span class="line">        UIView *fitView = [childView hitTest:childP withEvent:event];</span><br><span class="line">        if (fitView) &#123; // å¯»æ‰¾åˆ°æœ€åˆé€‚çš„view</span><br><span class="line">            return fitView;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // å¾ªç¯ç»“æŸ,è¡¨ç¤ºæ²¡æœ‰æ¯”è‡ªå·±æ›´åˆé€‚çš„view</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸èƒ½å“åº”è§¦æ‘¸äº‹ä»¶çš„å‡ ç§Caseï¼š</p>
<ol>
<li>è§¦æ‘¸ç‚¹è¶…å‡ºè§†å›¾èŒƒå›´ï¼›</li>
<li>UIViewçš„userInteractionEnabled &#x3D; NOï¼›</li>
<li>UIView.hidden &#x3D; YES;</li>
<li>UIView.alpha &lt; 0.01;</li>
</ol>
<p>å½“å­è§†å›¾è¶…å‡ºçˆ¶è§†å›¾æ—¶ï¼Œå¯é€šè¿‡é‡å†™çˆ¶è§†å›¾çš„<code>hitTest</code>æ–¹æ³•ï¼Œæ¥å“åº”å­è§†å›¾çš„ç‚¹å‡»äº‹ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event &#123;</span><br><span class="line">    UIView *view = [super hitTest:point withEvent:event];</span><br><span class="line">    // è¶…å‡ºçˆ¶è§†å›¾å“åº”åŒºåŸŸæ—¶ï¼Œéå†å­viewåŒºåŸŸ</span><br><span class="line">    if (view == nil) &#123;</span><br><span class="line">        for (UIView *subView in self.subviews) &#123;</span><br><span class="line">            // è½¬æ¢åæ ‡ç³»</span><br><span class="line">            CGPoint p = [subView convertPoint:point fromView:self];</span><br><span class="line">            if (CGRectContainsPoint(subView.bounds, p)) &#123;</span><br><span class="line">                view = subView;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return view;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="UIResponder-1"><a href="#UIResponder-1" class="headerlink" title="UIResponder"></a>UIResponder</h3><p>å…³äº<code>UIResponder</code>éœ€è¦äº†è§£çš„ä¸€äº›å±æ€§&amp;æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hitTestæŸ¥æ‰¾ç¬¬ä¸€å“åº”è€…çš„è¿‡ç¨‹ä¼šå½¢æˆä¸€ä¸ªå“åº”è€…é“¾ï¼Œappä¼šä¼˜å…ˆè°ƒç”¨ç¬¬ä¸€å“åº”è€…å¤„ç†äº‹ä»¶ï¼Œå¦‚æœç¬¬ä¸€å“åº”è€…ä¸èƒ½å¤„ç†äº‹ä»¶ï¼Œåˆ™è°ƒç”¨`nextResponder`ï¼Œç›´åˆ°æ‰¾åˆ°å“åº”é“¾ä¸­èƒ½å¤„ç†è¯¥äº‹ä»¶çš„å¯¹è±¡ï¼Œéƒ½ä¸èƒ½å“åº”åˆ™æŠ›å¼ƒè¯¥äº‹ä»¶ã€‚</span><br><span class="line">@property(nonatomic, readonly, nullable) UIResponder *nextResponder;</span><br><span class="line">@property(nonatomic, readonly) BOOL canBecomeFirstResponder;    // default is NO</span><br><span class="line">- (BOOL)becomeFirstResponder;</span><br><span class="line">@property(nonatomic, readonly) BOOL canResignFirstResponder;    // default is YES</span><br><span class="line">- (BOOL)resignFirstResponder;</span><br><span class="line">@property(nonatomic, readonly) BOOL isFirstResponder;</span><br><span class="line"></span><br><span class="line">// å“åº”è§¦æ‘¸äº‹ä»¶ï¼šè§¦æ‘¸å¯¹è±¡é›†åˆã€äº‹ä»¶å¯¹è±¡ã€‚</span><br><span class="line">// touchesBegané»˜è®¤ä¸å¯¹äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œå•çº¯å°†äº‹ä»¶æ²¿ç€é»˜è®¤çš„å“åº”é“¾ä¼ é€’ã€‚å¦‚æœè¦æ‹¦æˆªäº‹ä»¶ï¼Œä¸”ä¸ä¼ é€’ï¼Œé‡å†™æ–¹æ³•ä½†ä¸è°ƒç”¨çˆ¶ç±»è¯¥æ–¹æ³•ã€‚</span><br><span class="line">- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(nullable UIEvent *)event; </span><br><span class="line">- (void)touchesMoved:(NSSet&lt;UITouch *&gt; *)touches withEvent:(nullable UIEvent *)event;</span><br><span class="line">- (void)touchesEnded:(NSSet&lt;UITouch *&gt; *)touches withEvent:(nullable UIEvent *)event;</span><br><span class="line">- (void)touchesCancelled:(NSSet&lt;UITouch *&gt; *)touches withEvent:(nullable UIEvent *)event;</span><br><span class="line">- (void)touchesEstimatedPropertiesUpdated:(NSSet&lt;UITouch *&gt; *)touches API_AVAILABLE(ios(9.1));</span><br></pre></td></tr></table></figure>

<h2 id="UIGestureRecognizer"><a href="#UIGestureRecognizer" class="headerlink" title="UIGestureRecognizer"></a>UIGestureRecognizer</h2><p>æ‰‹åŠ¿ç±»å‹æœ‰å¾ˆå¤šç§ï¼ˆå­ç±»å¤šï¼‰ï¼ŒAPIä¸­ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯<code>- (void)addTarget:(id)target action:(SEL)action;</code>æ–¹æ³•äº†ï¼Œé€šå¸¸åœ¨è‡ªå®šä¹‰æ‰‹åŠ¿æ“ä½œæ—¶ä¼šä¾èµ–<code>Beganã€Changedã€Endedã€Cancelled</code>ç­‰<code>UIGestureRecognizerState</code>çŠ¶æ€æ¥è¿›è¡Œå“åº”ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef NS_ENUM(NSInteger, UIGestureRecognizerState) &#123;</span><br><span class="line">    UIGestureRecognizerStatePossible, </span><br><span class="line">    UIGestureRecognizerStateBegan,     </span><br><span class="line">    UIGestureRecognizerStateChanged,    </span><br><span class="line">    UIGestureRecognizerStateEnded,      </span><br><span class="line">    UIGestureRecognizerStateCancelled,  </span><br><span class="line">    UIGestureRecognizerStateFailed,     </span><br><span class="line">    UIGestureRecognizerStateRecognized = UIGestureRecognizerStateEnded </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>UIGestureRecognizer</code>åŒæ ·å¯ä»¥å“åº”<code>touchesBegan</code>ç­‰æ–¹æ³•ï¼Œç›¸å…³å£°æ˜ä½äº<code>UIGestureRecognizerSubclass</code>ä¸­ã€‚</p>
<p><code>UIEvent</code>äº‹ä»¶å¤„ç†è¿‡ç¨‹ï¼šæ‰‹åŠ¿ä¸Šä¸‹æ–‡<code>UIGestureEnvironment</code>æ”¶åˆ°äº‹ä»¶ï¼Œé€šçŸ¥ç»™ç›¸å…³çš„<code>UIGestureRecognizer</code>ï¼ŒåŒæ—¶ä¼šé€šè¿‡<code>delegate</code>æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿå¯¹è§¦æ‘¸äº‹ä»¶è¿›è¡Œå“åº”ã€‚</p>
<p>æ‰‹åŠ¿å†²çªå¤„ç†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å°†æ‰‹åŠ¿ç½®äºå¦ä¸€æ‰‹åŠ¿ä¼˜å…ˆçº§ä¹‹ä¸‹ï¼Œåªæœ‰å¦ä¸€æ‰‹åŠ¿è¯†åˆ«å¤±è´¥æ‰ä¼šè¯†åˆ«è¯¥æ‰‹åŠ¿ï¼›å¦ä¸€æ‰‹åŠ¿è¯†åˆ«æˆåŠŸï¼Œè¯¥æ‰‹åŠ¿çŠ¶æ€å˜ä¸ºè¯†åˆ«å¤±è´¥ã€‚</span><br><span class="line">- (void)requireGestureRecognizerToFail:(UIGestureRecognizer *)otherGestureRecognizer;</span><br><span class="line">// è¿”å›YESç¬¬ä¸€ä¸ªæ‰‹åŠ¿å¤±æ•ˆï¼ˆé€‚ç”¨äºä¸åŒå±‚çº§é—´ï¼Œè¿”å›NOä¸ä¿è¯ç”Ÿæ•ˆï¼Œå•ä¸€æ§åˆ¶ä¼˜å…ˆçº§ï¼‰</span><br><span class="line">- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRequireFailureOfGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer API_AVAILABLE(ios(7.0));</span><br><span class="line">// è¿”å›YESç¬¬äºŒä¸ªæ‰‹åŠ¿å¤±æ•ˆï¼ˆé€‚ç”¨äºä¸åŒå±‚çº§é—´ï¼Œè¿”å›NOä¸ä¿è¯ç”Ÿæ•ˆï¼Œå•ä¸€æ§åˆ¶ä¼˜å…ˆçº§ï¼‰</span><br><span class="line">- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldBeRequiredToFailByGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer API_AVAILABLE(ios(7.0));</span><br></pre></td></tr></table></figure>

<p>UIGestureRecognizer VS. UIResponder:</p>
<img data-src="/2023/03/22/iOS-%E6%89%8B%E5%8A%BF%E5%86%B2%E7%AA%81/UIGestureRecognizer%E5%92%8CUIResponder.svg" class>

<h2 id="UIControl"><a href="#UIControl" class="headerlink" title="UIControl"></a>UIControl</h2><p><code>UIButton</code>ç»§æ‰¿è‡ª<code>UIControl</code>ç»§æ‰¿è‡ª<code>UIView</code>ç»§æ‰¿è‡ª<code>UIResponder</code>ç»§æ‰¿è‡ª<code>NSObject</code>ã€‚</p>
<p><code>UIControl</code>é€šè¿‡<code>Target-Action</code>æœºåˆ¶å¤„ç†è§¦æ‘¸äº‹ä»¶ã€‚</p>
<ul>
<li><code>Target-Action</code>æœºåˆ¶é€šè¿‡<code>- (void)sendAction:(SEL)action to:(nullable id)target forEvent:(nullable UIEvent *)event;</code>æ–¹æ³•é€šçŸ¥<code>UIApplication</code>ã€‚</li>
<li><code>UIApplication</code>é€šè¿‡<code>- (BOOL)sendAction:(SEL)action to:(nullable id)target from:(nullable id)sender forEvent:(nullable UIEvent *)event;</code>æ–¹æ³•å‘<code>target</code>å‘é€<code>action</code>ã€‚</li>
<li><code>target == nil</code>æ—¶ä¼šæ²¿ç€å“åº”é“¾è¿›è¡Œå¯»æ‰¾ã€‚</li>
</ul>
<p><code>UIControl</code>å°†æ‰‹åŠ¿ä¸<code>UIView</code>è¿›è¡Œç»‘å®šï¼Œå¹¶å¯¹<code>UIResponder</code>äº‹ä»¶è¿›è¡Œäº†é‡å†™ï¼Œä¼šé˜»æ–­å“åº”é“¾ï¼ˆé‡å†™äº†å¯¹åº”å®ç°ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import PlaygroundSupport</span><br><span class="line"></span><br><span class="line">class MyViewController : UIViewController &#123;</span><br><span class="line">    @objc func clickBtn() &#123;</span><br><span class="line">        print(&quot;======click======&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    @objc func clickView() &#123;</span><br><span class="line">        print(&quot;======clickView======&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func loadView() &#123;</span><br><span class="line">        let view = UIView()</span><br><span class="line">        view.backgroundColor = .white</span><br><span class="line">        let tap = UITapGestureRecognizer(target: self, action: #selector(clickView))</span><br><span class="line">        view.addGestureRecognizer(tap)</span><br><span class="line">        </span><br><span class="line">        let btn = UIButton()</span><br><span class="line">        btn.backgroundColor = .orange</span><br><span class="line">        btn.frame = CGRect(x: 100, y: 200, width: 100, height: 100)</span><br><span class="line">        // isUserInteractionEnabledé»˜è®¤å¼€å¯ï¼Œä¼šé˜»æ–­å“åº”é“¾</span><br><span class="line">        //btn.isUserInteractionEnabled = false;</span><br><span class="line">        btn.addTarget(self, action: #selector(clickBtn), for: .touchUpInside)</span><br><span class="line">        view.addSubview(btn)</span><br><span class="line">        </span><br><span class="line">        self.view = view</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Present the view controller in the Live View window</span><br><span class="line">PlaygroundPage.current.liveView = MyViewController()</span><br></pre></td></tr></table></figure>

<hr>
<p>Tipsï¼š</p>
<ul>
<li>å“åº”ä¼˜å…ˆçº§ï¼š<code>UIControl</code> &gt; <code>UIGestureRecognizer</code> &gt; <code>UITouch</code></li>
<li>userInteractionEnabledï¼ŒUIViewçš„äº¤äº’å±æ€§ã€‚</li>
<li><code>exclusiveTouch</code>ï¼ŒUIViewä¼šç‹¬å æ•´ä¸ªTouchäº‹ä»¶ï¼Œä½†ä¸å½±å“Gestureã€‚</li>
</ul>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>UIResponder</tag>
        <tag>UIGestureRecognizer</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSå…«è‚¡æ–‡â€”â€”01</title>
    <url>/2023/04/08/iOS%E5%85%AB%E8%82%A1%E6%96%87%E2%80%94%E2%80%9401/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span>

<h2 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h2><ul>
<li>openï¼ŒSwift3æ–°å¢è®¿é—®æ§åˆ¶ç¬¦ï¼Œå¯è·¨moduleè®¿é—®ï¼Œopenä¿®é¥°çš„ç±»å¯ç»§æ‰¿ï¼Œä¿®é¥°çš„æ–¹æ³•å¯é‡å†™ã€‚</li>
<li>publicï¼Œå¯è·¨moduleè®¿é—®ï¼Œpublicä¿®é¥°çš„ç±»å¯è®¿é—®ä¸å¯è¢«ç»§æ‰¿ï¼Œä¿®é¥°çš„æ–¹æ³•å¯è®¿é—®ä¸å¯è¢«é‡å†™ã€‚</li>
<li>internalï¼ŒSwiftä¸­é»˜è®¤çš„è®¿é—®æ§åˆ¶ç¬¦ï¼ˆç¼ºçœï¼‰ï¼Œåªå¯¹è‡ªèº«moduleå†…å¼€æ”¾æ‰€æœ‰æºæ–‡ä»¶ï¼Œå¯¹å¤–ç•Œå±è”½ä»£ç ã€‚</li>
<li>fileprivateï¼ŒSwift3æ–°å¢è®¿é—®æ§åˆ¶ç¬¦ï¼Œå¯åœ¨å½“å‰æ–‡ä»¶å†…æ‰€æœ‰ç±»è®¿é—®ã€‚</li>
<li>privateï¼Œä»…å¯åœ¨æœ¬ç±»ä¸­è®¿é—®ï¼Œextensionä¸­ä¸å¯è®¿é—®ã€‚</li>
</ul>
<p>Tipsï¼š<br>åœ¨Swift3ä¸­æ–°å¢äº†è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦ï¼Œä½¿å¾—Swiftçš„è®¿é—®æ§åˆ¶æ›´åŠ çµæ´»ã€‚<br>ä½¿ç”¨ä¸åŒè®¿é—®ä¿®é¥°ç¬¦ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½è€¦åˆï¼Œå¯¹å¤–ç•Œå±è”½å®ç°ç»†èŠ‚ã€‚<br>Objective-Cæ˜¯åŠ¨æ€å¤„ç†è¯­è¨€ï¼Œprivateåªæ˜¯æ‰€è°“çš„ç§æœ‰ï¼Œé€šè¿‡KVCè¿˜æ˜¯èƒ½å¤Ÿè·å–ã€‚<br>Swiftç”±äºæ€§èƒ½çš„è€ƒè™‘ï¼Œé»˜è®¤å…³é—­äº†åŠ¨æ€å¤„ç†ã€‚</p>
<h2 id="Class-VS-Struct"><a href="#Class-VS-Struct" class="headerlink" title="Class VS Struct"></a>Class VS Struct</h2><p>ä¸¤ç§æ•°æ®ç»“æ„ï¼Œ<br>Classæ˜¯å¼•ç”¨ç±»å‹ï¼Œå½“è¿›è¡Œå€¼ä¼ é€’çš„æ—¶å€™ï¼Œä¼ é€’çš„æ˜¯å¯¹instanceçš„å¼•ç”¨ï¼›<br>Structæ˜¯å€¼ç±»å‹ï¼Œå½“è¿›è¡Œå€¼ä¼ é€’çš„æ—¶å€™ï¼Œä¼šcopyä¼ é€’çš„å€¼ã€‚</p>
<p>ç›¸åŒç‚¹ï¼š</p>
<ul>
<li>éƒ½èƒ½å®šä¹‰Propertyã€Methodã€Initializersã€‚</li>
<li>éƒ½æ”¯æŒProtocolã€Extensionã€‚<br>ä¸åŒç‚¹ï¼š</li>
<li>Classæ˜¯å¼•ç”¨ç±»å‹ï¼ŒStructæ˜¯å€¼ç±»å‹ã€‚</li>
<li>Classæ”¯æŒç»§æ‰¿ï¼ŒStructä¸æ”¯æŒã€‚</li>
<li>Structå£°æ˜çš„æ–¹æ³•å±æ€§ä¿®æ”¹éœ€è¦<code>mutating</code>å…³é”®å­—ï¼ŒClassä¸éœ€è¦ã€‚</li>
<li>Classæ”¯æŒå¼•ç”¨è®¡æ•°å’Œ<code>Deinitializers</code>ï¼ˆé‡Šæ”¾å®ä¾‹deinitï¼‰ï¼ŒStructä¸æ”¯æŒã€‚</li>
<li>Structæä¾›é»˜è®¤çš„<code>memberwise initializer</code>ï¼ˆè‡ªåŠ¨æ‰§è¡Œåˆå§‹åŒ–å™¨ï¼Œå¯¹æ¯ä¸ªå­˜å‚¨å±æ€§è¿›è¡Œèµ‹å€¼ï¼‰ã€‚</li>
<li>Classæ”¯æŒ<code>type casting</code>ï¼ˆç±»å‹åˆ¤æ–­ is or asï¼‰ã€‚</li>
</ul>
<p>å¯¹instanceçš„åˆ¤ç­‰ä½¿ç”¨<code>===</code>æˆ–<code>!==</code>ã€‚<br><code>==</code>ï¼Œåˆ¤åˆ«çš„æ˜¯ä¸¤ä¸ªå˜é‡æˆ–å¸¸é‡çš„å€¼æ˜¯å¦ç›¸åŒï¼Œ<br>è‡ªå®šä¹‰çš„classéœ€è¦éµå®ˆEquatableåè®®æ‰èƒ½æ”¯æŒ<code>==</code>æ“ä½œã€‚</p>
<p>Structå­˜å‚¨åœ¨stackä¸­ï¼ŒClasså­˜å‚¨åœ¨heapä¸­ï¼Œ<br>ç›¸å¯¹æ¥è¯´ï¼ŒStructæ•ˆç‡æ›´é«˜ï¼Œè€Œä¸”ä¸éœ€è¦è€ƒè™‘å†…å­˜æ³„æ¼å’Œå¤šçº¿ç¨‹è¯»å†™é—®é¢˜ï¼ˆcopyçš„å¥½å¤„ï¼‰ã€‚</p>
<h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p>å•ä¾‹ä¸€æ—¦åˆ›å»ºï¼Œä¸€ç›´æŒæœ‰ï¼Œä¸èƒ½æ‰‹åŠ¨é”€æ¯ï¼Œä½†å¯ä»¥é‡ç½®æ•°æ®ã€‚å¦‚æœéœ€è¦çš„è¯ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªé‡ç½®æ•°æ®çš„æ–¹æ³•ã€‚</p>
<h3 id="Swiftå•ä¾‹æ¨¡å¼"><a href="#Swiftå•ä¾‹æ¨¡å¼" class="headerlink" title="Swiftå•ä¾‹æ¨¡å¼"></a>Swiftå•ä¾‹æ¨¡å¼</h3><p>ä¸»è¦æ˜¯åˆ©ç”¨é™æ€æˆå‘˜è‡ªåŠ¨æ»¡è¶³dispatch_onceè§„åˆ™ã€‚<br>ä¸€èˆ¬é€šè¿‡ä¸€ä¸ªé™æ€å±æ€§<code>shared</code>æŒæœ‰å”¯ä¸€å®ä¾‹ï¼Œé€šè¿‡é‡å†™<code>init()</code>é˜²æ­¢å¤–éƒ¨è°ƒç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">final class Single &#123;</span><br><span class="line">    static let shared = Single()</span><br><span class="line">    private init() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…¶å®ƒéƒ½æ˜¯åŸºäºæ­¤çš„ä¸€äº›å˜å½¢ï¼Œå¦‚ï¼š</span><br><span class="line">final class Single1 &#123;</span><br><span class="line">    static let shared = &#123;</span><br><span class="line">        let instance = Single1()</span><br><span class="line">        return instance</span><br><span class="line">    &#125;()</span><br><span class="line">    private init() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Objective-C"><a href="#Objective-C" class="headerlink" title="Objective-C"></a>Objective-C</h3><p>.hæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@interface Singleton : NSObject</span><br><span class="line">+(instancetype)shareInstances;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>.mæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@implementation Singleton</span><br><span class="line"></span><br><span class="line">static Singleton* _instance = nil;</span><br><span class="line"></span><br><span class="line">+(instancetype) shareInstance</span><br><span class="line">&#123;</span><br><span class="line">    static dispatch_once_t onceToken ;</span><br><span class="line">    dispatch_once(&amp;onceToken, ^&#123;</span><br><span class="line">        _instance = [[super allocWithZone:NULL] init] ;</span><br><span class="line">    &#125;) ;</span><br><span class="line"></span><br><span class="line">    return _instance ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(id) allocWithZone:(struct _NSZone *)zone</span><br><span class="line">&#123;</span><br><span class="line">    return [Singleton shareInstance] ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(id) copyWithZone:(struct _NSZone *)zone</span><br><span class="line">&#123;</span><br><span class="line">    return [Singleton shareInstance] ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>è®¿é—®æ§åˆ¶</tag>
        <tag>Class VS Struct</tag>
        <tag>å•ä¾‹</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSå®ç°ç‚¹ä¹å›¾æ•ˆæœ</title>
    <url>/2023/03/29/iOS%E5%AE%9E%E7%8E%B0%E7%82%B9%E4%B9%9D%E5%9B%BE%E6%95%88%E6%9E%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ç‚¹ä¹å›¾æ˜¯Androidç‰¹æœ‰çš„åˆ‡å›¾æ–¹å¼ï¼ŒiOSä¹Ÿå¯ä»¥é€šè¿‡ç®€å•çš„å›¾ç‰‡æ“ä½œæ¥å®ç°ï¼ˆè°ƒç”¨<code>UIImage</code>çš„<code>resizableImage</code>æ–¹æ³•å³å¯ï¼‰ã€‚</p>
<p>iOSå¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°æ¯”è¾ƒå¤æ‚çš„å¼‚å½¢å›¾çš„ç»˜åˆ¶æˆ–è€…æ·»åŠ ä¸€äº›çº¹ç†ï¼Œæ¯”è¾ƒç®€å•çš„åŠæ³•å°±æ˜¯æ‰¾UIåŒå­¦ç»™ä¸ªåˆ‡å›¾ã€‚ä½†æ˜¯å›ºå®šå›¾ç‰‡åœ¨ä¸åŒå±å¹•å¤§å°æœºå‹ä¸Šä¼šè¢«æ‹‰ä¼¸ï¼Œæ•ˆæœä¼šæ¯”è¾ƒå·®ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ç‚¹ä¹å›¾ï¼ˆAndroidç‰¹æœ‰è¯´æ³•ï¼‰æ¥å®ç°å¤æ‚å¤„ç†ã€‚æ¯”è¾ƒå…¸å‹çš„ä¾‹å­å°±æ˜¯WeChatä¸­çš„èŠå¤©è¾“å…¥æ¡†ã€‚</p>
<span id="more"></span>

<p><a href="https://zhuanlan.zhihu.com/p/97138527">ç‚¹ä¹å›¾çš„åŸç†ï¼š</a></p>
<img data-src="/2023/03/29/iOS%E5%AE%9E%E7%8E%B0%E7%82%B9%E4%B9%9D%E5%9B%BE%E6%95%88%E6%9E%9C/%E7%82%B9%E4%B9%9D%E5%9B%BE%E5%8E%9F%E7%90%86.png" class>
<p>å¯¹äºä¸€å¼ å›¾ç‰‡ï¼Œå¯ä»¥é€šè¿‡ä¸Šä¸‹å·¦å³åˆ†åˆ«ç»˜åˆ¶ä¸¤å¤©ç›´çº¿æ¥å¯¹å›¾ç‰‡è¿›è¡Œåˆ’åˆ†ï¼Œå°†å›¾ç‰‡åˆ’åˆ†ä¸º9ä¸ªåŒºåŸŸã€‚åœ¨è¯¥åŒºåŸŸä¸­ï¼Œå››ä¸ªè§’è½å³1ã€2ã€3ã€4åŒºåŸŸæ˜¯ä¸å¯æ‹‰ä¼¸çš„ï¼Œå…¶å®ƒåŒºåŸŸå‡å¯è¢«æ‹‰ä¼¸ã€‚<br>å®ç°åŸç†åˆ™æ˜¯ï¼Œç¨‹åºé€šè¿‡è¯†åˆ«å›¾ç‰‡å››å‘¨çš„1pxçš„ç›´çº¿ï¼ˆéœ€è¦è®¾è®¡ç»™å‡ºï¼‰ï¼Œå®ç°å¯¹æ‹‰ä¼¸åŒºåŸŸï¼ˆ6å·¦è¾¹å’Œ5ä¸Šè¾¹ï¼‰å’Œæ–‡æœ¬åŒºåŸŸï¼ˆ7å³è¾¹å’Œ8ä¸‹è¾¹ï¼‰çš„å®šä¹‰ã€‚</p>
<ul>
<li>æ‹‰ä¼¸åŒºåŸŸï¼š6å·¦è¾¹å¯å®ç°çºµå‘æ‹‰ä¼¸ï¼Œ5ä¸Šè¾¹å¯å®ç°æ¨ªå‘æ‹‰ä¼¸ã€‚</li>
<li>æ–‡æœ¬åŒºåŸŸï¼š7å³è¾¹å’Œ8ä¸‹è¾¹æ¥é¿å…æ–‡æœ¬åŒºåŸŸè¶…å‡ºåœ†è§’åŒºåŸŸã€‚</li>
</ul>
<p>éšä¾¿æ‰¾äº†ä¸€å¼ å›¾æ¥å®è·µä¸€ä¸‹ï¼Œ<br>å¯¹ä¸‹è¿°å›¾ç‰‡è¿›è¡Œæ“ä½œï¼š</p>
<img data-src="/2023/03/29/iOS%E5%AE%9E%E7%8E%B0%E7%82%B9%E4%B9%9D%E5%9B%BE%E6%95%88%E6%9E%9C/end_time.jpeg" class>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//: A UIKit based Playground for presenting user interface</span><br><span class="line">  </span><br><span class="line">import UIKit</span><br><span class="line">import PlaygroundSupport</span><br><span class="line"></span><br><span class="line">class MyViewController : UIViewController &#123;</span><br><span class="line">    </span><br><span class="line">    override func loadView() &#123;</span><br><span class="line">        let view = UIView()</span><br><span class="line">        view.backgroundColor = .white</span><br><span class="line">        </span><br><span class="line">        let img = UIImageView()</span><br><span class="line">        if let path = Bundle.main.path(forResource: &quot;end_time&quot;, ofType: &quot;jpeg&quot;) &#123;</span><br><span class="line">            if let data: Data = NSData(contentsOfFile: path) as Data? &#123;</span><br><span class="line">                let image = UIImage(data: data)</span><br><span class="line">                img.image = image</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        img.frame = CGRect(x: 100, y: 0, width: 120, height: 48)</span><br><span class="line">        view.addSubview(img)</span><br><span class="line">        </span><br><span class="line">        let img1 = UIImageView()</span><br><span class="line">//        img1.contentMode = .topLeft   // é»˜è®¤ä½¿ç”¨</span><br><span class="line">        img1.image = UIImage(named: &quot;end_time.jpeg&quot;)</span><br><span class="line">        img1.frame = CGRect(x: 100, y: 100, width: 200, height: 48)</span><br><span class="line">        view.addSubview(img1)</span><br><span class="line">        </span><br><span class="line">        let img2 = UIImageView()</span><br><span class="line">        img2.contentMode = .scaleAspectFit</span><br><span class="line">        img2.image = UIImage(named: &quot;end_time.jpeg&quot;)</span><br><span class="line">        img2.frame = CGRect(x: 100, y: 200, width: 200, height: 48)</span><br><span class="line">        view.addSubview(img2)</span><br><span class="line">        </span><br><span class="line">        let img3 = UIImageView()</span><br><span class="line">        img3.image = UIImage(named: &quot;end_time.jpeg&quot;)?.resizableImage(withCapInsets: .init(top: 0, left: 0, bottom: 0, right: 0), resizingMode: .stretch)</span><br><span class="line">        img3.frame = CGRect(x: 100, y: 300, width: 200, height: 48)</span><br><span class="line">        view.addSubview(img3)</span><br><span class="line">        </span><br><span class="line">        let img4 = UIImageView()</span><br><span class="line">        img4.image = UIImage(named: &quot;end_time.jpeg&quot;)?.resizableImage(withCapInsets: .init(top: 0, left: 40, bottom: 0, right: 50), resizingMode: .stretch)</span><br><span class="line">        img4.frame = CGRect(x: 100, y: 400, width: 200, height: 48)</span><br><span class="line">        view.addSubview(img4)</span><br><span class="line">        </span><br><span class="line">        let img5 = UIImageView()</span><br><span class="line">        img5.image = UIImage(named: &quot;end_time.jpeg&quot;)?.resizableImage(withCapInsets: .init(top: 20, left: 40, bottom: 20, right: 50), resizingMode: .stretch)</span><br><span class="line">        img5.frame = CGRect(x: 100, y: 500, width: 200, height: 100)</span><br><span class="line">        view.addSubview(img5)</span><br><span class="line">        </span><br><span class="line">        self.view = view</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// Present the view controller in the Live View window</span><br><span class="line">PlaygroundPage.current.liveView = MyViewController()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®ç°ä»£ç æ•ˆæœå¦‚ä¸‹ï¼š</p>
<img data-src="/2023/03/29/iOS%E5%AE%9E%E7%8E%B0%E7%82%B9%E4%B9%9D%E5%9B%BE%E6%95%88%E6%9E%9C/%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C.png" class>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>ä»é›¶åˆ›å»ºä¸€ä¸ªiOSç«¯appâ€”â€”01åˆ›å»ºå·¥ç¨‹</title>
    <url>/2023/04/03/%E4%BB%8E%E9%9B%B6%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAiOS%E7%AB%AFapp%E2%80%94%E2%80%9401%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span>

<h2 id="åˆ›å»ºå·¥ç¨‹ï¼ˆAppHomeï¼‰"><a href="#åˆ›å»ºå·¥ç¨‹ï¼ˆAppHomeï¼‰" class="headerlink" title="åˆ›å»ºå·¥ç¨‹ï¼ˆAppHomeï¼‰"></a>åˆ›å»ºå·¥ç¨‹ï¼ˆAppHomeï¼‰</h2><ol>
<li>æ‰“å¼€Xcodeï¼Œé€‰æ‹©<code>Create a new Xcode project</code> ;</li>
<li>ç‚¹å‡»<code>iOS</code>tabï¼Œé€‰æ‹©<code>App</code>ï¼›</li>
<li>å¡«å†™åº”ç”¨ç›¸å…³å†…å®¹ï¼š<img data-src="/2023/04/03/%E4%BB%8E%E9%9B%B6%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAiOS%E7%AB%AFapp%E2%80%94%E2%80%9401%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B/%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B.png" class><ul>
<li><code>Product Name</code>ï¼Œappåç§°</li>
<li><code>Team</code>å¼€å‘è€…è´¦å·ï¼Œé€‰æ‹©Noneåªèƒ½ä½¿ç”¨æ¨¡æ‹Ÿå™¨</li>
<li><code>Organization Identifier</code>ï¼Œç»„ç»‡å”¯ä¸€æ ‡è¯†ï¼Œä¸€èˆ¬ä½¿ç”¨ç½‘ç«™åŸŸåå€’å†™</li>
<li><code>Bundle Identifier</code>ï¼Œåº”ç”¨å”¯ä¸€æ ‡è¯†ï¼Œ<strong>ä¸å¯ä¿®æ”¹</strong></li>
<li><code>Interface</code>ï¼Œæ¥å£ï¼Œé€‰æ‹©Storyboard</li>
<li><code>Language</code>ï¼Œè¯­è¨€ï¼Œé€‰æ‹©Swift</li>
<li><code>Use Core Data</code>ï¼Œæ˜¯å¦ä½¿ç”¨æŒä¹…åŒ–æ•°æ®å­˜å‚¨ï¼Œæš‚ä¸éœ€è¦ï¼Œå…ˆä¸å‹¾é€‰</li>
<li><code>Include Tests</code>ï¼Œæ·»åŠ æµ‹è¯•ç±»ï¼Œä¸éœ€è¦ï¼Œå–æ¶ˆå‹¾é€‰</li>
</ul>
</li>
<li>é€‰æ‹©å­˜å‚¨ä½ç½®ï¼Œç­‰å¾…åˆ›å»ºå®Œæˆã€‚</li>
<li>æœ¬åœ°æ‰“å¼€å·¥ç¨‹æ–‡ä»¶ï¼Œæ·»åŠ Podä¾èµ–åº“ï¼š<ul>
<li>æœ¬åœ°æ²¡æœ‰å®‰è£…<code>CocoaPods</code>çš„è¯éœ€è¦æå‰å®‰è£…ï¼›</li>
<li>å‘½ä»¤è¡Œåˆ›å»ºpodä¾èµ–<code>pod init</code>ï¼›</li>
<li><code>Podfile</code>æ·»åŠ ä¾èµ–åº“ï¼›</li>
<li>æ›´æ–°podä¾èµ–<code>pod install --repo-update</code>ã€‚</li>
</ul>
</li>
<li>æ‰“å¼€<code>***.xcworkspace</code>å·¥ç¨‹å³å¯å¼€å§‹ç¼–å†™appã€‚</li>
</ol>
<h2 id="Assets-xcassets"><a href="#Assets-xcassets" class="headerlink" title="Assets.xcassets"></a>Assets.xcassets</h2><p>èµ„æºæ–‡ä»¶ç®¡ç†çš„åœ°æ–¹ï¼Œä¸€èˆ¬ç”¨äºå­˜æ”¾å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶ã€‚iOS 11ä¹‹åä¹Ÿå¯å­˜æ”¾é¢œè‰²ç»„ï¼ˆå¯ç”¨äºé€‚é…æ·±è‰²æ¨¡å¼ï¼‰ã€‚</p>
<h3 id="AppIcon"><a href="#AppIcon" class="headerlink" title="AppIcon"></a>AppIcon</h3><p>æ¨èå‡ ä¸ªå¥½ç”¨çš„å›¾ç‰‡ç›¸å…³ç½‘ç«™ï¼š</p>
<ul>
<li>å›¾ç‰‡å‹ç¼©ï¼š<a href="https://tinypng.com/">https://tinypng.com</a></li>
<li>ç”Ÿæˆ<code>app icon</code>ï¼š<a href="https://www.appicon.co/">https://www.appicon.co</a> </li>
<li>IconFontï¼š<a href="https://www.iconfont.cn/">https://www.iconfont.cn</a></li>
</ul>
<p>å°†ç”Ÿæˆå¥½çš„iconå›¾ç‰‡æ·»åŠ åˆ°ä¸»å·¥ç¨‹<code>Assets.xcassets</code>ä¸­<code>AppIcon</code>å ä½å›¾å³å¯ã€‚</p>
<h3 id="AccentColor"><a href="#AccentColor" class="headerlink" title="AccentColor"></a>AccentColor</h3><p><strong>iOS11æ‰æ”¯æŒ</strong>ï¼Œç»Ÿä¸€ç®¡ç†é¢œè‰²ï¼Œæ–¹ä¾¿å¼€å‘è¿›è¡Œé¢œè‰²æ›¿æ¢ã€‚</p>
<p>ä¸»é¢˜è‰²ï¼Œå³ä¾§<code>Color Set</code>ä¸‹çš„<code>Appearances</code>å¯é€‰æ‹©<code>Any,Dark</code>ï¼Œè®¾ç½®é»˜è®¤é£æ ¼å’Œé»‘æš—é£æ ¼çš„é¢œè‰²ã€‚</p>
<p>è°ƒç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">swift</span><br><span class="line">bkg.backgroundColor = UIColor(named: &quot;theme_color&quot;)</span><br><span class="line"></span><br><span class="line">object-c</span><br><span class="line">bkg.backgroundColor = [UIColor colorNamed:@&quot;theme_color&quot;];</span><br></pre></td></tr></table></figure>

<h2 id="æ·»åŠ åº•tab"><a href="#æ·»åŠ åº•tab" class="headerlink" title="æ·»åŠ åº•tab"></a>æ·»åŠ åº•tab</h2><ul>
<li>AppDelegateæ˜¯iOSä¸­åº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£ç‚¹ã€‚Appleä¸ºå‡ ä¸ªåº”ç”¨ç¨‹åºçº§ç”Ÿå‘½å‘¨æœŸäº‹ä»¶è°ƒç”¨AppDelegateæ–¹æ³•ã€‚</li>
<li>å½“AppDelegateæ˜¯è´Ÿè´£åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æ—¶ï¼Œ<code>SceneDelegate</code>è´Ÿè´£å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼ˆscenes or windowsï¼‰ã€‚å½“ä½ å¤„ç†sceneæ—¶ï¼Œå¯¹ä½ çš„ç”¨æˆ·æ¥è¯´çœ‹èµ·æ¥åƒwindowçš„ä¸œè¥¿å®é™…ä¸Šè¢«ç§°ä¸ºUISceneï¼Œå®ƒæ˜¯ç”±UISceneSessionç®¡ç†çš„ã€‚å½“æˆ‘ä»¬æåˆ°windowsæ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸ŠæŒ‡çš„æ˜¯UISceneSessionå¯¹è±¡ã€‚</li>
</ul>
<p>é€šå¸¸ä¸€ä¸ªappä¸­ï¼Œé¦–é¡µéƒ½æ˜¯ä¸€ä¸ªåº•tabï¼ˆUITabBarControllerï¼‰å¯ä¾›ç”¨æˆ·é€‰æ‹©ä¸åŒçš„åŠŸèƒ½åœºæ™¯ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª<code>UITabBarController</code>ï¼›</li>
<li>åˆ›å»ºå¤šä¸ª<code>UIViewController</code>ï¼Œå¹¶è®¾ç½®VCçš„<code>tabBarItem</code>ï¼›</li>
<li>å°†ç”Ÿæˆçš„å¤šä¸ªVCæ·»åŠ åˆ°tabBarçš„viewControllersï¼›</li>
<li>åœ¨<code>SceneDelegate</code>çš„<code>scene</code>æ–¹æ³•ä¸­å°†tabBarè®¾ç½®ä¸ºwindowçš„<code>rootViewController</code><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) &#123;</span><br><span class="line">    let tabbar = UITabBarController()</span><br><span class="line">    window?.rootViewController = tabbar</span><br><span class="line">    guard let _ = (scene as? UIWindowScene) else &#123; return &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="tabBarItemå›¾ç‰‡å¤§å°é—®é¢˜"><a href="#tabBarItemå›¾ç‰‡å¤§å°é—®é¢˜" class="headerlink" title="tabBarItemå›¾ç‰‡å¤§å°é—®é¢˜"></a>tabBarItemå›¾ç‰‡å¤§å°é—®é¢˜</h3><p>æ‰¾äº†ä¸¤å¼ å›¾ç‰‡ï¼Œå‘ç°å°ºå¯¸è¿‡å¤§ï¼Œå¯¼è‡´å›¾ç‰‡è¶…å‡ºçˆ¶è§†å›¾åŒºåŸŸã€‚<br>çœ‹ç½‘ä¸Šæ–¹æ³•åŸºæœ¬éƒ½æ˜¯ä¿®æ”¹<code>tabBarItem.imageInsets</code>ï¼Œè¯•äº†ä¹‹åå‘ç°æ²¡æœ‰ç”Ÿæ•ˆã€‚<br>æ‰€ä»¥ï¼Œè¿˜æ˜¯é‡æ–°ç»˜åˆ¶ä¸€ä¸‹å§ã€‚</p>
<p>å†™äº†ä¸€ä¸ªå·¥å…·ç±»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class ImageTools &#123;</span><br><span class="line">    // è£å‰ªå›¾ç‰‡åˆ°æŒ‡å®šå¤§å°</span><br><span class="line">    class func tailorImage(image: UIImage?, newSize: CGSize) -&gt; UIImage &#123;</span><br><span class="line">        guard let originImg = image else &#123;</span><br><span class="line">            return UIImage()</span><br><span class="line">        &#125;</span><br><span class="line">        UIGraphicsBeginImageContext(newSize)</span><br><span class="line">        originImg.draw(in: CGRect(origin: CGPoint.zero, size: newSize))</span><br><span class="line">        let newImg = UIGraphicsGetImageFromCurrentImageContext() ?? originImg</span><br><span class="line">        UIGraphicsEndImageContext()</span><br><span class="line">        return newImg</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="tabBarItemå•ç‹¬è®¾ç½®æ–‡å­—é¢œè‰²å’Œå›¾ç‰‡é¢œè‰²"><a href="#tabBarItemå•ç‹¬è®¾ç½®æ–‡å­—é¢œè‰²å’Œå›¾ç‰‡é¢œè‰²" class="headerlink" title="tabBarItemå•ç‹¬è®¾ç½®æ–‡å­—é¢œè‰²å’Œå›¾ç‰‡é¢œè‰²"></a>tabBarItemå•ç‹¬è®¾ç½®æ–‡å­—é¢œè‰²å’Œå›¾ç‰‡é¢œè‰²</h3><p>è®¾ç½®tabBarçš„tintColorä¼šåŒæ—¶ä¿®æ”¹tabBarItemçš„å›¾ç‰‡å’Œæ–‡å­—é¢œè‰²ï¼Œéœ€è¦å¯¹æ–‡å­—é¢œè‰²å•ç‹¬è¿›è¡Œä¿®æ”¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tabBar.tintColor = .orange</span><br><span class="line">// è®¾ç½®æ–‡å­—é¢œè‰²ä¸è·ŸéštintColor</span><br><span class="line">UITabBarItem.appearance().setTitleTextAttributes([NSAttributedString.Key.foregroundColor: UIColor(named: &quot;textColor&quot;) ?? .tintColor], for: .selected)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
        <category>ä»é›¶åˆ›å»ºä¸€ä¸ªiOSç«¯app</category>
      </categories>
  </entry>
  <entry>
    <title>ä»é›¶åˆ›å»ºä¸€ä¸ªiOSç«¯appâ€”â€”02åˆ›å»ºPodåº“</title>
    <url>/2023/04/05/%E4%BB%8E%E9%9B%B6%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAiOS%E7%AB%AFapp%E2%80%94%E2%80%9402%E5%88%9B%E5%BB%BAPod%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span>

<h2 id="æœ¬åœ°åˆ›å»ºä¸€ä¸ªPodå·¥ç¨‹"><a href="#æœ¬åœ°åˆ›å»ºä¸€ä¸ªPodå·¥ç¨‹" class="headerlink" title="æœ¬åœ°åˆ›å»ºä¸€ä¸ªPodå·¥ç¨‹"></a>æœ¬åœ°åˆ›å»ºä¸€ä¸ªPodå·¥ç¨‹</h2><ol>
<li>èµ·ä¸€ä¸ªPodä»“åº“åï¼Œä½¿ç”¨<code>pod lib lint ä»“åº“å</code>æ¥æ ¡éªŒæ˜¯å¦è¢«å ç”¨ã€‚ </li>
<li>å‘½ä»¤è¡Œè¾“å…¥<code>pod lib create ä»“åº“å</code>ï¼Œä¹‹åä¼šå…‹éš†CocoaPodsçš„<code>pod-template</code>åˆ°è¯¥ä»“åº“ã€‚<br>åœ¨æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸¤ä¸ªé—®é¢˜ï¼š<ul>
<li><code>Ignoring ffi-1.15.5 because its extensions are not built. Try: gem pristine ffi --version 1.15.5</code>ï¼Œè§£å†³æ–¹æ¡ˆï¼š<ol>
<li><code>brew install rbenv</code></li>
<li><code>rbenv install 3.1.2</code></li>
<li><code>rbenv global 3.1.2</code></li>
<li><code>sudo gem install ffi --version 1.15.5 --user-install</code></li>
</ol>
</li>
<li><code> Could not find &#39;rexml&#39; (~&gt; 3.2.4) - did find: [rexml-3.1.9.1] (Gem::MissingSpecVersionError)</code>ï¼Œè§£å†³æ–¹æ¡ˆï¼š<code>sudo gem update rexml</code>æ›´æ–°ä¸€ä¸‹rexmlç‰ˆæœ¬ã€‚</li>
</ul>
</li>
<li>åˆ›å»ºè¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€äº›è¾“å…¥ï¼Œæ ¹æ®è‡ªå·±éœ€è¦æ¥æ·»åŠ å³å¯ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">What platform do you want to use?? [ iOS / macOS ]</span><br><span class="line"> &gt; iOS</span><br><span class="line"></span><br><span class="line">What language do you want to use?? [ Swift / ObjC ]</span><br><span class="line"> &gt; Swift</span><br><span class="line"></span><br><span class="line">Would you like to include a demo application with your library? [ Yes / No ]</span><br><span class="line"> &gt; Yes</span><br><span class="line"></span><br><span class="line">Which testing frameworks will you use? [ Quick / None ]</span><br><span class="line"> &gt; None</span><br><span class="line"></span><br><span class="line">Would you like to do view based testing? [ Yes / No ]</span><br><span class="line"> &gt; NO</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="æœ¬åœ°ä»“åº“æµ‹è¯•"><a href="#æœ¬åœ°ä»“åº“æµ‹è¯•" class="headerlink" title="æœ¬åœ°ä»“åº“æµ‹è¯•"></a>æœ¬åœ°ä»“åº“æµ‹è¯•</h2><p>åœ¨<code>**.podspec</code>ä¸­æ·»åŠ ä¸€äº›å­ä»“éœ€è¦çš„ä¾èµ–ï¼ˆåŒ<code>Podfile</code>ï¼‰ï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">s.dependency &#x27;SnapKit&#x27;, &#x27;~&gt; 5.0.0&#x27;</span><br></pre></td></tr></table></figure>

<p>å¯¹Classesä¸­çš„<code>ReplaceMe.swift</code>æ–‡ä»¶è¿›è¡Œæ›¿æ¢ã€‚</p>
<p>å¯¹å­ä»“ä¸­çš„Exampleå·¥ç¨‹è¿›è¡Œ<code>pod install</code>ï¼Œç¼–å†™æµ‹è¯•æ–¹æ³•å³å¯ã€‚</p>
<h2 id="åˆ›å»º-amp-æ·»åŠ åˆ°è¿œç«¯ä»“åº“"><a href="#åˆ›å»º-amp-æ·»åŠ åˆ°è¿œç«¯ä»“åº“" class="headerlink" title="åˆ›å»º&amp;æ·»åŠ åˆ°è¿œç«¯ä»“åº“"></a>åˆ›å»º&amp;æ·»åŠ åˆ°è¿œç«¯ä»“åº“</h2><ol>
<li>åœ¨GitHubåˆ›å»ºä¸€ä¸ªåŒåRepoã€‚</li>
<li>ä¿®æ”¹æœ¬åœ°ä»“çš„<code>**.podspec</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>s.homepage</code>å’Œ<code>s.source</code>ç­‰å¿…è¦ä¿¡æ¯ã€‚</li>
<li>æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“å…³è”ï¼ˆæ¢æˆè‡ªå·±çš„ï¼‰ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote add origin https://github.com/newbieCV/AHComponents.git</span><br><span class="line">git branch -M main</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li>
<li>gitæäº¤æœ¬åœ°ä»“ä¿®æ”¹</li>
</ol>
<h2 id="æ·»åŠ tagæ ‡ç­¾"><a href="#æ·»åŠ tagæ ‡ç­¾" class="headerlink" title="æ·»åŠ tagæ ‡ç­¾"></a>æ·»åŠ tagæ ‡ç­¾</h2><p>åœ¨å¼•å…¥å­ä»“ä¾èµ–æ—¶ï¼Œéƒ½ä¼šæŒ‡å®šä¸€ä¸ªç‰ˆæœ¬å·ï¼ˆtagæ ‡è®°ï¼‰ã€‚<br>ä¸ºäº†æ–¹ä¾¿è¢«å¼•ç”¨ï¼Œéœ€è¦å¯¹å½“å‰ä»£ç æäº¤æ‰“ä¸ªtagæ ‡è®°ã€‚</p>
<p>åœ¨æœ¬åœ°å­ä»“ä¸­è®¾ç½®tagæ ‡è®°ï¼Œå¹¶pushåˆ°è¿œç«¯ã€‚<br>æ›´æ–°å®Œæˆååœ¨è¿œç«¯ä»“åº“å¯ä»¥çœ‹åˆ°å¦‚å›¾æ‰€ç¤º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git tag 0.1.0</span><br><span class="line">git push --tags</span><br></pre></td></tr></table></figure>

<h2 id="å‘å¸ƒåˆ°Cocoapods"><a href="#å‘å¸ƒåˆ°Cocoapods" class="headerlink" title="å‘å¸ƒåˆ°Cocoapods"></a>å‘å¸ƒåˆ°Cocoapods</h2><p>åœ¨å‘å¸ƒå‰ï¼Œéœ€è¦å¯¹å½“å‰å­ä»“çš„podspecçš„åˆæ³•æ€§è¿›è¡Œæ£€æŸ¥ã€‚å¯é€‰æ‹©<code>--allow-warnings</code>å¿½ç•¥è­¦å‘Šã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pod lib lint --verbose</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæœ¬åœ°éªŒè¯é€šè¿‡ï¼ˆç»ˆç«¯æœ€åå‡ºç°<code>*** passed validation.</code>ï¼‰ï¼Œåˆ™å¯ä»¥ç»§ç»­æäº¤åˆ°Cocoapodsã€‚</p>
<p>æäº¤podspecä»“åº“ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pod trunk push ***.podspec --verbose</span><br></pre></td></tr></table></figure>

<hr>
<p>æˆ–è®¸é«˜å…´æ—©äº†ï¼Ÿ<br><code>[!] You need to run </code>pod trunk register<code> to register a session first.</code></p>
<p>é‚£å°±æ³¨å†Œä¸€ä¸‹trunkå§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pod trunk register ç”µå­é‚®ç®± &#x27;å§“å&#x27; --description=&#x27;macbook pro&#x27;</span><br></pre></td></tr></table></figure>

<p>éšåå‡ºç°<code>[!] Please verify the session by clicking the link in the verification email that has been sent to zhangzongyu00@gmail.com</code>ï¼Œ<br>æ‰“å¼€é‚®ç®±ä¿¡ä»»ä¸€ä¸‹å°±å¥½ã€‚</p>
<p>æŸ¥çœ‹æ˜¯å¦æ³¨å†ŒæˆåŠŸï¼š<code>pod trunk me</code>ã€‚</p>
<p>é‡æ–°æ‰§è¡Œ<code>pod trunk push ***.podspec --verbose</code>ï¼Œ<br>è¿˜ä¸é©¬ä¸Šå»å·¥ç¨‹é‡Œé¢è°ƒç”¨è¯•è¯• fun!</p>
]]></content>
      <categories>
        <category>iOS</category>
        <category>ä»é›¶åˆ›å»ºä¸€ä¸ªiOSç«¯app</category>
      </categories>
  </entry>
  <entry>
    <title>å“é“ƒä¸éœ‡åŠ¨</title>
    <url>/2023/04/15/%E5%93%8D%E9%93%83%E4%B8%8E%E9%9C%87%E5%8A%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å“é“ƒå’Œéœ‡åŠ¨æ˜¯éŸ³è§†é¢‘é€šè¯çš„åŸºç¡€åŠŸèƒ½ï¼Œå¦‚ä½•å®ç°å‘¢ï¼Ÿ<br>æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œç›´æ¥ä¸Šä»£ç å§</p>
<span id="more"></span>

<h2 id="å“é“ƒå¤„ç†"><a href="#å“é“ƒå¤„ç†" class="headerlink" title="å“é“ƒå¤„ç†"></a>å“é“ƒå¤„ç†</h2><p>æœ‰ä¸ªåŒºåˆ«çš„ç‚¹åœ¨äºï¼š</p>
<ul>
<li><code>AudioServicesPlayAlertSound(soundID)</code>æ”¯æŒå“é“ƒå’Œéœ‡åŠ¨ã€‚</li>
<li><code>AudioServicesPlaySystemSound(soundID)</code>ï¼Œä»…æ”¯æŒå“é“ƒã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å“é“ƒæ ‡è¯†</span><br><span class="line">var soundID = SystemSoundID()</span><br><span class="line">// å“é“ƒæ“ä½œ</span><br><span class="line">func useRing() &#123;</span><br><span class="line">    // è·å–é“ƒå£°èµ„æº</span><br><span class="line">    guard let path = Bundle().path(forResource: &quot;ring&quot;, ofType: &quot;mp3&quot;) else &#123; return &#125;</span><br><span class="line">    let url = NSURL(fileURLWithPath: path)</span><br><span class="line">    // åˆ›å»ºå£°éŸ³æ ‡è¯†</span><br><span class="line">    AudioServicesCreateSystemSoundID(url, &amp;soundID)</span><br><span class="line">    // å“é“ƒå®Œæˆå›è°ƒ</span><br><span class="line">    AudioServicesAddSystemSoundCompletion(soundID, nil, nil, &#123; soundID, _ in</span><br><span class="line">        AudioServicesPlaySystemSound(soundID)</span><br><span class="line">    &#125;, nil)</span><br><span class="line">    // å“é“ƒä¸€æ¬¡ï¼Œå®Œæˆåä¼šè‡ªåŠ¨è°ƒç”¨å®Œæˆå›è°ƒï¼Œç„¶åé™·å…¥å¾ªç¯</span><br><span class="line">    AudioServicesPlaySystemSound(soundID)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åœæ­¢å“é“ƒ</span><br><span class="line">func stopRing() &#123;</span><br><span class="line">    AudioServicesRemoveSystemSoundCompletion(soundID)</span><br><span class="line">    AudioServicesDisposeSystemSoundID(soundID)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éœ‡åŠ¨å¤„ç†"><a href="#éœ‡åŠ¨å¤„ç†" class="headerlink" title="éœ‡åŠ¨å¤„ç†"></a>éœ‡åŠ¨å¤„ç†</h2><p>è®¾ç½®ä¸€ä¸ªTimerè®¡æ—¶å™¨ï¼Œæ·»åŠ åˆ°runloopä¸­å»è½®è¯¢å°±å¯ä»¥å®ç°äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var endTimer = Timer()</span><br><span class="line">// éœ‡åŠ¨</span><br><span class="line">func useShake() &#123;</span><br><span class="line">    shakeTimer = Timer(timeInterval: 1, repeats: true, block: &#123; _ in</span><br><span class="line">        AudioServicesPlaySystemSound(kSystemSoundID_Vibrate)</span><br><span class="line">    &#125;)</span><br><span class="line">    RunLoop.current.add(shakeTimer, forMode: .defaultRunLoopMode)</span><br><span class="line">    // å¼€å§‹è®¡æ—¶</span><br><span class="line">    shakeTimer.fire()</span><br><span class="line">&#125;</span><br><span class="line">// åœæ­¢éœ‡åŠ¨</span><br><span class="line">func stopShake() &#123;</span><br><span class="line">    shakeTimer.invalidate()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŒæ—¶å¤„ç†å“é“ƒä¸éœ‡åŠ¨"><a href="#åŒæ—¶å¤„ç†å“é“ƒä¸éœ‡åŠ¨" class="headerlink" title="åŒæ—¶å¤„ç†å“é“ƒä¸éœ‡åŠ¨"></a>åŒæ—¶å¤„ç†å“é“ƒä¸éœ‡åŠ¨</h2><p><code>AudioServicesPlayAlertSound</code>æ–¹æ³•è™½ç„¶åœ¨å“é“ƒçš„åŒæ—¶æ”¯æŒéœ‡åŠ¨çš„è°ƒç”¨ï¼Œä½†æ˜¯éœ‡åŠ¨å‘¨æœŸä¸å“é“ƒä¸€è‡´ï¼Œå³æ¯æ¬¡å“é“ƒå®Œæ‰éœ‡åŠ¨ä¸€ä¸‹ã€‚<br>è¿™ç§Caseè‚¯å®šæ˜¯ä¸èƒ½æ¥å—çš„ï¼Œé‚£ä¹ˆå°±åˆ†å¼€å¤„ç†å‘—ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">func ringOrShake(type: AHRingAndShakeType, duration: TimeInterval?) &#123;</span><br><span class="line">    // é¿å…ä¸Šæ¬¡æ’­æ”¾å°šæœªç»“æŸ</span><br><span class="line">    stopRingAndShake()</span><br><span class="line">    </span><br><span class="line">    if (type == .ringAndShake || type == .ring),</span><br><span class="line">        let path = AHTools.findSourceBundle().path(forResource: &quot;ring&quot;, ofType: &quot;mp3&quot;) &#123;</span><br><span class="line">        let url = NSURL(fileURLWithPath: path)</span><br><span class="line">        AudioServicesCreateSystemSoundID(url, &amp;soundID)</span><br><span class="line">        AudioServicesAddSystemSoundCompletion(soundID, nil, nil, &#123; soundID, _ in</span><br><span class="line">            AudioServicesPlaySystemSound(soundID)</span><br><span class="line">        &#125;, nil)</span><br><span class="line">        AudioServicesPlaySystemSound(soundID)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    var durationStr: Double = duration ?? 1</span><br><span class="line">    endTimer = Timer(timeInterval: 1, repeats: true, block: &#123; [weak self] timer in</span><br><span class="line">        if (type == .shake || type == .ringAndShake) &#123;</span><br><span class="line">            AudioServicesPlaySystemSound(kSystemSoundID_Vibrate)</span><br><span class="line">        &#125;</span><br><span class="line">        if (durationStr &lt;= 0) &#123;</span><br><span class="line">            self?.stopRingAndShake()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            durationStr -= 1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    RunLoop.current.add(endTimer, forMode: .defaultRunLoopMode)</span><br><span class="line">    // å¼€å§‹è®¡æ—¶</span><br><span class="line">    endTimer.fire()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åœæ­¢è°ƒç”¨</span><br><span class="line">@objc</span><br><span class="line">public func stopRingAndShake() &#123;</span><br><span class="line">    endTimer.invalidate()</span><br><span class="line">    AudioServicesRemoveSystemSoundCompletion(soundID)</span><br><span class="line">    AudioServicesDisposeSystemSoundID(soundID)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œä¸ºäº†å°è£…ï¼Œä¹Ÿä¸ºäº†æ›´å¥½çš„è°ƒç”¨ï¼Œä½¿ç”¨äº†enumã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">enum AHRingAndShakeType &#123;</span><br><span class="line">    case ring</span><br><span class="line">    case shake</span><br><span class="line">    case ringAndShake</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>ring and shake</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„ä¸ªç¨é€€ç¨</title>
    <url>/2023/03/20/%E6%88%91%E7%9A%84%E4%B8%AA%E7%A8%8E%E9%80%80%E7%A8%8E/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ä¸ªäººæ‰€å¾—ç¨"><a href="#ä¸ªäººæ‰€å¾—ç¨" class="headerlink" title="ä¸ªäººæ‰€å¾—ç¨"></a>ä¸ªäººæ‰€å¾—ç¨</h1><p>æˆ‘è¦åŠç¨ä¹‹ç»¼åˆæ‰€å¾—å¹´åº¦æ±‡ç®—ï¼Œåœ¨æ”¶å…¥éƒ¨åˆ†ï¼Œå¯¹äºå¹´ç»ˆå¥–éƒ¨åˆ†ï¼Œå¦‚æœæ”¶å…¥æ¯”è¾ƒä½ï¼ˆå‡ åƒå—&#x2F;æœˆï¼‰æ¥è¯´ï¼Œå¯èƒ½åˆå¹¶è®¡ç¨ä¼šæ¯”è¾ƒåˆ’ç®—ï¼›è€Œå¯¹äºèº«è¾¹ç»å¤§éƒ¨åˆ†æœ‹å‹ï¼Œè¿˜æ˜¯å•ç‹¬è®¡ç¨æ›´åˆé€‚ã€‚è¿™ä¸¤ç§è®¡ç¨æ–¹å¼å¯ä»¥éƒ½è¯•ä¸‹ï¼Œçœ‹çœ‹åˆ°åº•å“ªä¸ªæ›´é€‚åˆè‡ªå·±ã€‚å…¶æ¬¡ï¼Œæ˜¯ä¸€äº›é™„åŠ ç¨çš„æ‰£é™¤ã€‚</p>
<h2 id="ä¸“é¡¹é™„åŠ ç¨æ‰£é™¤"><a href="#ä¸“é¡¹é™„åŠ ç¨æ‰£é™¤" class="headerlink" title="ä¸“é¡¹é™„åŠ ç¨æ‰£é™¤"></a>ä¸“é¡¹é™„åŠ ç¨æ‰£é™¤</h2><ul>
<li>å­å¥³æ•™è‚²ï¼Œè¿™ä¸ªç›®å‰è¿˜æ²¡æœ‰ï¼Œå…ˆä¸è€ƒè™‘</li>
<li>ç»§ç»­æ•™è‚²ï¼Œè¿™éƒ¨åˆ†è¿˜æœ‰æå‡ç©ºé—´ï¼Œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š<ul>
<li>å­¦å†ç»§ç»­æ•™è‚²ï¼Œè¯´å®è¯ï¼Œç›®å‰æ¥è¯´ä¹Ÿä¸å†è€ƒè™‘äº†ğŸ˜…</li>
<li>èŒä¸šèµ„æ ¼ç»§ç»­æ•™è‚²ï¼Œè¿™éƒ¨åˆ†è¿˜å¯ä»¥æŠ€æœ¯æå‡ä¸‹ï¼Œæœ‰äº›éœ€è¦ä¸€å®šçš„æ—¶é—´ç²¾åŠ›çš„ï¼Œæ¯”å¦‚è½¯è€ƒä¸­çº§è¯ä¹¦ã€åˆçº§ä¼šè®¡èµ„æ ¼è¯ç­‰ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯ä¸éœ€è¦èŠ±è´¹å¤šå°‘æ—¶é—´çš„ï¼Œè¿™ç§çš„å°±æ¯”è¾ƒå‹å¥½äº†ã€‚</li>
</ul>
</li>
<li>å¤§ç—…åŒ»ç–—ï¼Œè¿˜æ²¡æœ‰ï¼Œä¹Ÿä¸å¸Œæœ›æœ‰ å˜¿å˜¿</li>
<li>ä½æˆ¿è´·æ¬¾åˆ©æ¯ï¼Œç›®å‰è¿˜æ²¡æœ‰ï¼Œå¿«äº†å¿«äº†</li>
<li>ä½æˆ¿ç§Ÿé‡‘<ul>
<li>æœ‰ä¸€å®šè¦å¦‚å®å¡«å†™ï¼Œè¿™éƒ¨åˆ†èƒ½æœ‰ä¸€ä¸‡å…«çš„æŠµç¨é¢åº¦ï¼Œå…¬å¸å‘çš„å·¥èµ„è™½ç„¶å·²ç»æ‰£é™¤è¿‡äº†ï¼Œä½†æ˜¯å¦‚æœè‡ªå·±ä¸ç”³æŠ¥ä¼šæŠŠè¿™éƒ¨åˆ†çš„é¢åº¦é‡æ–°è®¡ç¨ã€‚</li>
</ul>
</li>
<li>èµ¡å…»è€äººï¼Œçˆ¶æ¯åˆ°60å²æ‰å¯ä»¥ç”¨ï¼Œåˆ«çš„æ²¡åŠæ³•</li>
<li>3å²ä»¥ä¸‹å©´å¹¼å„¿æŠ¤ç…§ï¼Œæœ‰äº†å­©å­å†è¯´å§ï¼Œæ„Ÿè§‰ç¦»æˆ‘è¿˜å¾ˆé¥è¿œ</li>
</ul>
<h2 id="èŒä¸šèµ„æ ¼è®¤è¯"><a href="#èŒä¸šèµ„æ ¼è®¤è¯" class="headerlink" title="èŒä¸šèµ„æ ¼è®¤è¯"></a>èŒä¸šèµ„æ ¼è®¤è¯</h2><h3 id="é˜¿â¾¥äº‘Apsara-Clouderäº‘è®¡ç®—ä¸“é¡¹æŠ€èƒ½è®¤è¯"><a href="#é˜¿â¾¥äº‘Apsara-Clouderäº‘è®¡ç®—ä¸“é¡¹æŠ€èƒ½è®¤è¯" class="headerlink" title="é˜¿â¾¥äº‘Apsara Clouderäº‘è®¡ç®—ä¸“é¡¹æŠ€èƒ½è®¤è¯"></a><a href="https://edu.aliyun.com/certification/cldc15">é˜¿â¾¥äº‘Apsara Clouderäº‘è®¡ç®—ä¸“é¡¹æŠ€èƒ½è®¤è¯</a></h3><p>ç½‘ç«™ï¼š<a href="https://edu.aliyun.com/certification/cldc15">https://edu.aliyun.com/certification/cldc15</a></p>
<p><em>0æˆæœ¬è€ƒè¯å¡«æŠ¥ä¸ªç¨çº³ç¨é¢å‡å…3600</em></p>
<p>é¢˜ç›®æ¯”è¾ƒå›ºå®šï¼Œå¤§éƒ¨åˆ†é¢˜ç›®ç½‘ä¸Šå¾ˆå¤šç­”æ¡ˆï¼Œç›´æ¥æœå°±å¯ä»¥äº†ã€‚è´´ä¸€ä¸ªè‡ªç”¨çš„é“¾æ¥ç­”æ¡ˆ <a href="https://blog.csdn.net/spacehhy/article/details/128917928">https://blog.csdn.net/spacehhy/article/details/128917928</a></p>
<p>ç”³æŠ¥ï¼š<br>    1. <code>èŒä¸šèµ„æ ¼ç»§ç»­æ•™è‚²ç±»å‹</code>é€‰æ‹©<code>ä¸“ä¸šæŠ€æœ¯äººå‘˜èŒä¸šèµ„æ ¼</code>ï¼›<br>    2. å‘è¯æ—¥æœŸ &amp; è¯ä¹¦ç¼–å·ï¼Œå¡«å†™è¯ä¹¦ä¸Šçš„ä¿¡æ¯ï¼›<br>    3. <code>è¯ä¹¦åç§°</code>é€‰æ‹©<code>è®¡ç®—æœºæŠ€æœ¯ä¸è½¯ä»¶ä¸“ä¸šæŠ€æœ¯èµ„æ ¼</code>ï¼›<br>    4. <code>å‘è¯æœºå…³</code>é€‰æ‹©<code>é˜¿é‡Œäº‘</code>ã€‚</p>
]]></content>
      <categories>
        <category>å·¥ä½œç›¸å…³</category>
      </categories>
      <tags>
        <tag>ä¸ªäººæ‰€å¾—ç¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•é¼ å™¨ã®æ•…äº‹</title>
    <url>/2023/03/25/%E6%8D%95%E9%BC%A0%E5%99%A8%E7%9A%84%E6%95%85%E4%BA%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script>
        <div id="aplayer-aNxNrTyv" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
            <pre class="aplayer-lrc-content"></pre>
        </div>
        <script>
          var ap = new APlayer({
            element: document.getElementById("aplayer-aNxNrTyv"),
            narrow: false,
            autoplay: false,
            showlrc: false,
            music: {
              title: "æœ—è¯»è¿™ç¯‡æ–‡ç« ",
              author: "ç« è‚¿é±¼",
              url: "æ•é¼ å™¨çš„æ•…äº‹.mp3",
              pic: "/images/avatar.jpeg",
              lrc: ""
            }
          });
          window.aplayers || (window.aplayers = []);
          window.aplayers.push(ap);
        </script>

<p><strong>ä»æ”¶åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå»åšä¸€ä»¶äº‹ï¼Œåˆ°è§£å†³æŸä¸€ç±»é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªåã€‚</strong></p>
<span id="more"></span>

<p>å‡è®¾ä½ æ˜¯ä¸€ä¸ªå·¥ç¨‹å¸ˆï¼Œè¿™æ—¶å€™ä½ è¢«å®‰æ’äº†ä¸€é¡¹ä»»åŠ¡â€œæ”¹è¿›æ•é¼ å™¨â€ã€‚<br>ä½ å°±è¦æ€è€ƒğŸ¤”ï¼šè¿™ä¸ªæ•é¼ å™¨è¦æ€ä¹ˆæ”¹è¿›å‘¢ï¼Ÿ<br>é€šå¸¸åšæ³•ï¼š</p>
<ul>
<li>æœ€ç®€å•çš„ï¼Œå»æœç´¢ä¸šç•Œç±»ä¼¼çš„Caseï¼Œçœ‹æœ‰æ²¡æœ‰ç±»ä¼¼çš„ä¼˜åŒ–ï¼ˆå€Ÿé‰´å·²æœ‰å…ˆè¿›ç»éªŒï¼‰ï¼›</li>
<li>æ¯”è¾ƒè´Ÿè´£ä¸€ç‚¹çš„åŒå­¦ï¼Œä¼šè€ƒè™‘ä¸ºä»€ä¹ˆç°åœ¨çš„æ•é¼ å™¨éœ€è¦æ”¹è¿›ï¼ˆæ•é¼ çš„æ•ˆæœå·®çš„åŸå› ï¼‰ï¼Œå³å®é™…äº§å“çš„ç°å­˜é—®é¢˜ï¼›</li>
</ul>
<p>æ”¹é€ è¿‡ç¨‹å°±æ¯”ä½œç§¯ç´¯æŠ€æœ¯ç»éªŒï¼Œä¸€èˆ¬çš„åšå®Œéœ€æ±‚å°±stopäº†ï¼Œä¸ä¼šå†ç»§ç»­æ·±ç©¶ï¼Œè·å¾—çš„åªé™äºæŠ€æœ¯çš„ç†Ÿç»ƒæˆ–ç§¯ç´¯äº†ç±»ä¼¼ç»éªŒã€‚<br>è¿›é˜¶ä¸€æ­¥çš„è¯ï¼Œå°±éœ€è¦è€ƒè™‘ä¸ºä»€ä¹ˆè¦å»æ”¹è¿›æ•é¼ å™¨å‘¢ï¼Ÿå¦‚æœå›ç­”æ˜¯ä¸ºäº†æ•è€é¼ ï¼Œè¿™ä¸ªå›ç­”æ— æ³•åé©³ï¼Œä½†åªæ˜¯è¿™æ ·çš„è¯ï¼Œåœ¨æ•è€é¼ è¿™ä¸ªé—®é¢˜ä¸Šå¾ˆå¿«å°±ä¼šè¾¾åˆ°ä¸€ä¸ªç“¶é¢ˆï¼ˆæ¯•ç«ŸæŠ€æœ¯æ˜¯æœ‰é™åˆ¶çš„ï¼Œ<strong>æ•é¼ å™¨æ”¹è¿›å†å¥½ï¼Œè€é¼ ä¸è¿‡å»ï¼Œä¹Ÿå¾ˆéš¾æŠ“åˆ°è€é¼ </strong>ï¼‰ã€‚</p>
<p>æ”¹é€ å®Œæˆåé€šè¿‡è§‚å¯Ÿï¼ˆè‡ªæµ‹ã€å†…æµ‹ã€ä¼—æµ‹ç­‰ï¼‰å‘ç°ï¼Œæ ¸å¿ƒé—®é¢˜æ˜¯æ•é¼ å™¨çš„ä½ç½®ä¸å¯¹ã€‚ï¼ˆè¿™æ˜¯å…³é”®ç‚¹ï¼Œ<strong>ä¸€ä¸ªRDå¯¹ä¸€ä¸ªä»»åŠ¡èƒ½å¤Ÿä»è§£å†³é—®é¢˜åˆ°æå‡ºæ–°é—®é¢˜æ˜¯ä¸€ä¸ªçªç ´</strong>ï¼‰<br>é’ˆå¯¹è¿™ä¸ªå‘ç°ï¼Œå·²ç»ä¸æ˜¯æ•é¼ å™¨çš„é—®é¢˜äº†ï¼Œè€Œæ˜¯ç¯å¢ƒçš„é™åˆ¶ã€‚<br>æ­¤æ—¶å°±ä¼šæƒ³ï¼Œä½¿ç”¨æ•é¼ å™¨çš„åŸå› ï¼Œæœ¬è´¨ä¸Šå…¶å®æ˜¯ä¸ºäº†æ ¹é™¤è€é¼ ã€‚æ‰€ä»¥ï¼Œæ•é¼ å™¨æœ¬èº«ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯èƒ½å¤Ÿæ€æ­»è€é¼ ã€‚<br>é‰´äºæ­¤ï¼Œå°±æœ‰äº†è¿›ä¸€æ­¥æ¨ªå‘æ€è€ƒçš„å¯èƒ½ï¼Œæ¯”å¦‚è¯´å‘æ˜æ•é¼ è¯ï¼Œæœ‰çš„è¯ç›´æ¥è´­ä¹°ä¹Ÿå¯ä»¥çš„ã€‚ï¼ˆè¿™æ—¶ä¼šå‘ç°è‡ªå·±å·²ç»æœ‰äº†æ–°çš„éœ€æ±‚ï¼Œå¦‚ä½•æ”¹è¿›ç­é¼ è¯çš„æ•ˆæœğŸ˜‚ï¼‰</p>
<p>å…¶å®è¿™ä¸ªæ•…äº‹ï¼Œç­é¼ ä¸æ˜¯å…³é”®ï¼Œç­é¼ æ˜¯ä¸ºäº†ä¿æŠ¤ç²®é£Ÿã€‚å½“æŠŠè€é¼ éƒ½æ¶ˆç­ä¹‹åå‘ç°ç²®é£Ÿè¿˜æ˜¯ä¿ä¸ä½ï¼ˆæ¯”å¦‚ï¼Œè¢«é›¨æ°´æ·‹åäº†ç­‰ï¼‰ã€‚<br>å†ç»§ç»­æ·±å…¥å°±ä¼šå‘ç°ï¼Œæœ€ç»ˆçš„OKRå…¶å®æ˜¯ä¸ºäº†ä¿æŠ¤ç²®é£Ÿã€‚é‚£ä¹ˆï¼Œå¦‚ä½•å®šä¹‰ä¿æŠ¤ç²®é£Ÿæ˜¯å¦æœ‰æå‡å‘¢ï¼Ÿæ¯”å¦‚ï¼Œç²®é£Ÿç•™å­˜ç‡ç­‰ç­‰ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å»å®šä¹‰ç²®é£Ÿä¿æŠ¤çš„è¯„ä¼°æ–¹æ³•ï¼Œè¿›è€Œæˆç«‹ç²®é£Ÿä¿æŠ¤å°ç»„ï¼ˆå¯ä»¥å¸¦å›¢é˜Ÿåˆ›ä¸šäº†ï¼‰ã€‚</p>
<img data-src="/2023/03/25/%E6%8D%95%E9%BC%A0%E5%99%A8%E7%9A%84%E6%95%85%E4%BA%8B/%E6%A6%82%E8%A7%88.png" class>
<blockquote>
<p>æ¨éœ‡åŸè¯´è¿‡ï¼Œå¯¹ç ”å‘æ¥è¯´ï¼Œå‰ææ˜¯èƒ½å¤ŸæŠŠç°æœ‰æœ¬èŒå·¥ä½œåšå¥½ï¼Œå¦‚æœèƒ½è¿›ä¸€æ­¥å»æ€è€ƒé—®é¢˜çš„æœ¬è´¨ï¼Œèƒ½å¤Ÿè·Ÿæœ€é«˜çš„ç›®æ ‡å¯¹é½ï¼Œä½ çš„å·¥ä½œå®é™…ä¸Šä¼šæ›´åŠ ä¸»åŠ¨ï¼Œä¹Ÿèƒ½æ›´å¥½å‘æŒ¥è‡ªå·±çš„èƒ½åŠ›ã€‚</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œç»å¸¸æƒ³æƒ³è‡ªå·±åœ¨åšçš„é—®é¢˜ï¼Œâ€œä½ åœ¨è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿâ€ï¼›<br>å‡å¦‚ä½ æ˜¯leaderï¼Œè¿˜å¯ä»¥å¯¹å‘˜å·¥ç»§ç»­æé—®ï¼šâ€œè¿™çœŸçš„æ˜¯ä½ çš„é—®é¢˜å—ğŸ˜â€</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
  </entry>
  <entry>
    <title>iOSæ·»åŠ é«˜å¾·åœ°å›¾</title>
    <url>/2023/04/15/iOS%E6%B7%BB%E5%8A%A0%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span>

<h2 id="åŸºç¡€å‡†å¤‡å·¥ä½œ"><a href="#åŸºç¡€å‡†å¤‡å·¥ä½œ" class="headerlink" title="åŸºç¡€å‡†å¤‡å·¥ä½œ"></a>åŸºç¡€å‡†å¤‡å·¥ä½œ</h2><p><a href="https://console.amap.com/dev/index">é«˜å¾·åœ°å›¾å®˜ç½‘</a>ç”³è¯·APIKeyã€‚</p>
<p>podspecæˆ–podfileæ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">s.dependency &#x27;AMap3DMap-NO-IDFA&#x27;, &#x27;~&gt; 8.1.0&#x27;</span><br><span class="line">s.dependency &#x27;AMapSearch-NO-IDFA&#x27;, &#x27;~&gt; 8.1.0&#x27;</span><br><span class="line">s.dependency &#x27;AMapLocation-NO-IDFA&#x27;, &#x27;~&gt; 2.8.0&#x27;</span><br><span class="line">s.dependency &#x27;AMapFoundation-NO-IDFA&#x27;, &#x27;~&gt; 1.6.9&#x27;</span><br></pre></td></tr></table></figure>

<p><code>info.plist</code>æ·»åŠ httpsæ”¯æŒï¼š</p>
<img data-src="/2023/04/15/iOS%E6%B7%BB%E5%8A%A0%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/%E6%B7%BB%E5%8A%A0https%E6%94%AF%E6%8C%81.png" class>

<p>æ·»åŠ åŸºæœ¬é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// APIkeyéœ€è¦è‡ªè¡Œåˆ°å®˜ç½‘è·å–</span><br><span class="line">AMapServices.shared().apiKey = key</span><br><span class="line">// æ›´æ–°åè®®ï¼Œ8.1.0ç‰ˆæœ¬å¼€å§‹</span><br><span class="line">MAMapView.updatePrivacyAgree(.didAgree)</span><br><span class="line">MAMapView.updatePrivacyShow(.didShow, privacyInfo: .didContain)</span><br><span class="line">// æ‰“å¼€httpså¼€å…³</span><br><span class="line">AMapServices.shared().enableHTTPS = true</span><br></pre></td></tr></table></figure>

<h2 id="åœ°å›¾é…ç½®-amp-å®šä½æƒé™"><a href="#åœ°å›¾é…ç½®-amp-å®šä½æƒé™" class="headerlink" title="åœ°å›¾é…ç½® &amp; å®šä½æƒé™"></a>åœ°å›¾é…ç½® &amp; å®šä½æƒé™</h2><p>æ·»åŠ åœ°å›¾ï¼Œä¸èƒ½ä½¿ç”¨æ‡’åŠ è½½å†™æ³•ï¼ˆå¦åˆ™å‡ºä¸æ¥å°±ç¦»è°±ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let mapView = MAMapView(frame: CGRect(origin: .zero, size: CGSize(width: UIScreen.main.bounds.width, height: UIScreen.main.bounds.height - 100)))</span><br><span class="line">mapView.delegate = self // éœ€è¦å‰ç½®</span><br><span class="line">mapView.showsUserLocation = true</span><br><span class="line">mapView.compassOrigin = CGPoint(x: UIScreen.main.bounds.width - 40, y: 80)</span><br><span class="line">mapView.zoomLevel = 13</span><br><span class="line">view.addSubview(mapView)</span><br></pre></td></tr></table></figure>

<p><code>info.plist</code>æ·»åŠ å®šä½æƒé™æ”¯æŒï¼š</p>
<img data-src="/2023/04/15/iOS%E6%B7%BB%E5%8A%A0%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/%E6%B7%BB%E5%8A%A0%E5%AE%9A%E4%BD%8D%E6%9D%83%E9%99%90%E6%94%AF%E6%8C%81.png" class>

<p>å¼€å¯å®šä½æƒé™ï¼Œéœ€å®ç°<code>MAMapViewDelegate</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public func mapViewRequireLocationAuth(_ locationManager: CLLocationManager!) &#123;</span><br><span class="line">    locationManager.requestAlwaysAuthorization()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡ªåŠ¨å®šä½åˆ°å½“å‰å®šä½ä½ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var isFirstLoadMap = false</span><br><span class="line">/// åŸºäºå®šä½ä½ç½®ï¼Œåœ¨å®šä½å›è°ƒä¸­è¿›è¡ŒPOIæœç´¢å’Œé€†åœ°ç†ç¼–ç </span><br><span class="line">public func mapView(_ mapView: MAMapView!, didUpdate userLocation: MAUserLocation!, updatingLocation: Bool) &#123;</span><br><span class="line">    if !updatingLocation || userLocation.location.horizontalAccuracy &lt; 0 &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    if !isFirstLoadMap &#123;</span><br><span class="line">        isFirstLoadMap = true</span><br><span class="line">        mapView.centerCoordinate = userLocation.location.coordinate</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ªæ€§åŒ–é…ç½®"><a href="#ä¸ªæ€§åŒ–é…ç½®" class="headerlink" title="ä¸ªæ€§åŒ–é…ç½®"></a>ä¸ªæ€§åŒ–é…ç½®</h2><p>åœ°å›¾è‡ªé€‚åº”å¤§å°ï¼Œ<a href="https://lbs.amap.com/demo/sdk/map-zoomtospan#ios">æ ¹æ®ä¼ å…¥çš„ç»çº¬åº¦æ•°ç»„è‡ªåŠ¨è°ƒæ•´åœ°å›¾å¤§å°</a>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">func showsAnnotations(_ annotations: [MAPointAnnotation], edgePadding insets:UIEdgeInsets, _ mapView: MAMapView) &#123;</span><br><span class="line">        var rect:MAMapRect = MAMapRectZero</span><br><span class="line"></span><br><span class="line">        for annotation:MAPointAnnotation in annotations &#123;</span><br><span class="line">            let diagonalPoint:CLLocationCoordinate2D = CLLocationCoordinate2DMake(mapView.centerCoordinate.latitude - (annotation.coordinate.latitude - mapView.centerCoordinate.latitude),mapView.centerCoordinate.longitude - (annotation.coordinate.longitude - mapView.centerCoordinate.longitude))</span><br><span class="line"></span><br><span class="line">            let annotationMapPoint: MAMapPoint = MAMapPointForCoordinate(annotation.coordinate)</span><br><span class="line">            let diagonalPointMapPoint: MAMapPoint = MAMapPointForCoordinate(diagonalPoint)</span><br><span class="line"></span><br><span class="line">            let annotationRect:MAMapRect = MAMapRectMake(min(annotationMapPoint.x, diagonalPointMapPoint.x), min(annotationMapPoint.y, diagonalPointMapPoint.y), abs(annotationMapPoint.x - diagonalPointMapPoint.x), abs(annotationMapPoint.y - diagonalPointMapPoint.y));</span><br><span class="line"></span><br><span class="line">            rect = MAMapRectUnion(rect, annotationRect)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        mapView.setVisibleMapRect(rect, edgePadding: insets, animated: true)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
</search>
